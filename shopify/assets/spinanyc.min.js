function log(t){"undefined"!=typeof console&&void 0!==console.log&&console.log(t)}jQuery.fn.exists=function(t){return this.length&&t.apply(this),this};var SPN=SPN||{};SPN.urls={images:"/",products:"/"},$("html").addClass("loading"),function(t,e,i,n){n.utils=n.utils||{},n.modules=n.modules||{},n.views=n.views||{},n.catalog=n.catalog||{},n.overlays=n.overlays||{},n.Plugins=n.Plugins||{},n.Plugin=n.Plugin||{},n.Utils=n.Utils||{},n.prop={win:{},lastScroll:"",map:{}},n.bag={count:0,items:[],total:0,subtotal:0,tax:0,shipping:0},n.CONSTANTS={}}(window,document,jQuery,SPN),DB={response:null,remote:{store:function(t,e,i){$.ajax({url:t,type:"POST",data:e,dataType:"json",success:function(t){i()},error:function(t){i()}})},retrieve:function(t,e,i){$.ajax({url:t,type:"POST",context:e,success:function(t){i()},error:function(t){i()}})}},local:{store:function(){},retrieve:function(t){return $("#database").find("li[data-"+t+"]").data(t)}},publish:function(){}},SPN.process={response:null,mailchimp:{init:function(t,e,i){var n=JSON.parse(JSON.stringify({email:t.val()}));return $.ajax({url:e,type:"POST",data:n})}},campaignMonitor:{init:function(t,e){}},stripe:{init:function(t,e){var i;DB.local.retrieve("customer");Stripe.createToken({number:$("#card-number").val(),cvc:$("#card-cvc").val(),exp_month:$("#card-expiry-month").val(),exp_year:$("#card-expiry-year").val(),name:$('input[name="billing[first_name]"]').val()+" "+$('input[name="billing[last_name]"]').val(),address_line1:$('input[name="billing[address_one]"]').val(),address_line2:$('input[name="billing[address_two]"]').val(),address_city:$('input[name="billing[city]"]').val(),address_state:$('input[name="billing[province]"]').val(),address_zip:$('input[name="billing[postal_code]"]').val(),address_country:$('input[name="billing[country]"]').val()},function(n,s){if(s.error){switch(s.error.code){case"incorrect_number":i="Your card number is not correct for this type of card. Please double check and reenter.";break;case"invalid_number":i="Your card number is not valid. Please double check and reenter.";break;case"invalid_expiry_month":i="The expiration month you have entered is invalid. Please try again or use a different card.";break;case"invalid_expiry_year":i="The expiration year you have entered is invalid. Please try again or use a different card.";break;case"invalid_cvc":i="Your security code (CVC) is not valid. Please double double check and reenter.";break;case"expired_card":i="Your card has expired. Please check the expiration date.";break;case"incorrect_cvc":i="The CVC (security code) you have entered is incorrect. Please try entering it again. If you continue to have trouble, please contact us to make your order by phone.";break;case"card_declined":i="We're sorry, but unfortunately your card was declined. This could happen for various reasons. Please try using a different card or contact your bank to ensure your card is in good standing.";break;case"processing_error":i="We're sorry, but unfortunately an error occurred while processing your card. You were not charged. Please try using a different card or contact us to make your order by phone."}SPN.modules.ui.createNoticeBar(i,"error"),e(!0)}else{var a=s.id;t.append($('<input type="hidden" name="stripe_token" />').val(a)),e(!1)}})}}},function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function s(e,i){t.fn[e]=function(s){if("string"==typeof s){for(var o=n.call(arguments,1),r=0,l=this.length;l>r;r++){var c=this[r],d=t.data(c,e);if(d)if(t.isFunction(d[s])&&"_"!==s.charAt(0)){var h=d[s].apply(d,o);if(void 0!==h)return h}else a("no such method '"+s+"' for "+e+" instance");else a("cannot call methods on "+e+" prior to initialization; attempted to call '"+s+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(s),n._init()):(n=new i(this,s),t.data(this,e,n))})}}if(t){var a="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),s(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var a={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:t.eventie=a}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():a.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==s.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,o=a.length;o>n;n++)(0,a[n])()}}function n(n){return n.bind(s,"DOMContentLoaded",i),n.bind(s,"readystatechange",i),n.bind(t,"load",i),e}var s=t.document,a=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):t.docReady=n(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,a=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),a="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===e(s[n],i)&&s[n].push(a?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,a=this.getListenersAsObject(t);for(s in a)a.hasOwnProperty(s)&&-1!==(n=e(a[s],i))&&a[s].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)a.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?a.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,a=this.getListenersAsObject(t);for(s in a)if(a.hasOwnProperty(s))for(n=a[s].length;n--;)!0===(i=a[s][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,s=0,a=i.length;a>s;s++)if(e=i[s]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=o.length;i>e;e++)t[o[e]]=0;return t}function n(t){function n(t,e){if(s||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,a=t.runtimeStyle,o=a&&a.left;return o&&(a.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,o&&(a.left=o),e}var r,l=t("boxSizing");return function(){if(l){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[l]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=a(t);r=200===e(n.width),i.removeChild(t)}}(),function(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var s=a(t);if("none"===s.display)return i();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var d=c.isBorderBox=!(!l||!s[l]||"border-box"!==s[l]),h=0,u=o.length;u>h;h++){var p=o[h],f=s[p];f=n(t,f);var m=parseFloat(f);c[p]=isNaN(m)?0:m}var g=c.paddingLeft+c.paddingRight,v=c.paddingTop+c.paddingBottom,y=c.marginLeft+c.marginRight,b=c.marginTop+c.marginBottom,w=c.borderLeftWidth+c.borderRightWidth,x=c.borderTopWidth+c.borderBottomWidth,k=d&&r,C=e(s.width);!1!==C&&(c.width=C+(k?0:g+w));var _=e(s.height);return!1!==_&&(c.height=_+(k?0:v+x)),c.innerWidth=c.width-(g+w),c.innerHeight=c.height-(v+x),c.outerWidth=c.width+y,c.outerHeight=c.height+b,c}}}var s=t.getComputedStyle,a=s?function(t){return s(t,null)}:function(t){return t.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function n(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var s=t[i]+"MatchesSelector";if(e[s])return s}}();if(a){var o=i(document.createElement("div"),"div");s=o?i:function(t,e){return n(t),i(t,e)}}else s=function(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),s=0,a=i.length;a>s;s++)if(i[s]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(0,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function s(t,s,a){function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=a("transition"),c=a("transform"),d=l&&c,h=!!a("perspective"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var n=p[e],s=a(n);s&&s!==n&&(t[n]=s)}return t}();e(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.getSize=function(){this.size=s(this.element)},r.prototype.css=function(t){var e=this.element.style;for(var i in t)e[f[i]||i]=t[i]},r.prototype.getPosition=function(){var t=o(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,s=parseInt(t[i?"left":"right"],10),a=parseInt(t[n?"top":"bottom"],10);s=isNaN(s)?0:s,a=isNaN(a)?0:a;var r=this.layout.size;s-=i?r.paddingLeft:r.paddingRight,a-=n?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},r.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};r.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(t,10),a=parseInt(e,10),o=s===this.position.x&&a===this.position.y;if(this.setPosition(t,e),!o||this.isTransitioning){var r=t-i,l=e-n,c={},d=this.layout.options;r=d.isOriginLeft?r:-r,l=d.isOriginTop?l:-l,c.transform=m(r,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},r.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},r.prototype.moveTo=d?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},r.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},r.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var g=c&&n(c)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(u,this,!1))},r.prototype.transition=r.prototype[l?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(y)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()}else this.removeElem()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var a=t.getComputedStyle,o=a?function(t){return a(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],s):(t.Outlayer={},t.Outlayer.Item=s(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,s=t.length;s>n;n++)e.push(t[n]);else e.push(t);return e}function s(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function a(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function o(i,o,h,p,f,m){function g(t,i){if("string"==typeof t&&(t=r.querySelector(t)),t&&u(t)){this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}else l&&l.error("Bad "+this.constructor.namespace+" element: "+t)}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,h.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0,a=e.length;a>s;s++){var o=new i(e[s],this);n.push(o)}return n},g.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],s=0,a=t.length;a>s;s++){var o=t[s];if(u(o))if(e){f(o,e)&&i.push(o);for(var r=o.querySelectorAll(e),l=0,c=r.length;c>l;l++)i.push(r[l])}else i.push(o)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):u(n)&&(i=n),this[t]=i?p(i)[e]:n):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i];s.isIgnored||e.push(s)}return e},g.prototype._layoutItems=function(t,e){function i(){n.emitEvent("layoutComplete",[n,t])}var n=this;if(t&&t.length){this._itemsOn(t,"layout",i);for(var s=[],a=0,o=t.length;o>a;a++){var r=t[a],l=this._getItemLayoutPosition(r);l.item=r,l.isInstant=e||r.isLayoutInstant,s.push(l)}this._processLayoutQueue(s)}else i()},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},g.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=d,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){for(var n=0,s=t.length,a=this,o=0,r=t.length;r>o;o++)t[o].on(e,function(){return++n===s&&i.call(a),!0})},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];s(n,this.stamps),this.unignore(n)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=d,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=p(t);return{left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom}},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(function(){t.resize(),delete t.resizeTimeout},100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++)t[i].reveal()},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++)t[i].hide()},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i],a=this.getItem(s);a&&e.push(a)}return e}},g.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,a=e.length;a>i;i++){var o=e[i];o.remove(),s(o,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++)this.items[e].destroy();this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function n(){g.apply(this,arguments)}return Object.create?n.prototype=Object.create(g.prototype):e(n.prototype,g.prototype),n.prototype.constructor=n,n.defaults=e({},g.defaults),e(n.defaults,i),n.prototype.settings={},n.namespace=t,n.data=g.data,n.Item=function(){m.apply(this,arguments)},n.Item.prototype=new m,o(function(){for(var e=a(t),i=r.querySelectorAll(".js-"+e),s="data-"+e+"-options",o=0,d=i.length;d>o;o++){var h,u=i[o],p=u.getAttribute(s);try{h=p&&JSON.parse(p)}catch(t){l&&l.error("Error parsing "+s+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+t);continue}var f=new n(u,h);c&&c.data(u,t,f)}}),c&&c.bridget&&c.bridget(t,n),n},g.Item=m,g}var r=t.document,l=t.console,c=t.jQuery,d=function(){},h=Object.prototype.toString,u="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],o):t.Outlayer=o(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",s=Math[n](t.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var a=this._getColGroup(s),o=Math.min.apply(Math,a),r=i(a,o),l={x:this.columnWidth*r,y:o},c=o+t.size.outerHeight,d=this.cols+1-a.length,h=0;d>h;h++)this.colYs[r+h]=c;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var s=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,s)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),s=this.options.isOriginLeft?n.left:n.right,a=s+i.outerWidth,o=Math.floor(s/this.columnWidth);o=Math.max(0,o);var r=Math.floor(a/this.columnWidth);r-=a%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=o;r>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),SPN.Utils={initPlugin:function(t,e,i){var n;if(SPN.Plugin[t])return $.fn[t]=function(e,i){return this.each(function(){if(!$(this).data("plugin_"+t)){var s;$(this).data("plugin_"+t,!0),s=$(this).attr("data-"+t)?SPN.Utils.getOptions($(this).attr("data-"+t),e):e;var a={elements:i,options:s};void 0===SPN.Plugins[t]&&(SPN.Plugins[t]={index:[],list:{}}),n=new SPN.Plugin[t](this,a,t),SPN.Plugins[t].index.push(n),a.options&&a.options.name&&(SPN.Plugins[t].list[a.options.name]=n)}})},$("[data-"+t+"]").length>0&&$("[data-"+t+"]")[t](e),SPN.Plugins[t];$("[data-"+t+"]").length>0&&$("[data-"+t+"]")[t](e)},initClass:function(t,e,i){if(!$(document).data("class_"+t)&&($(document).data("class_"+t,!0),SPN.Class[t])){var n,s={elements:i,options:e};return"object"!=typeof SPN.Classes[t]&&(SPN.Classes[t]=[]),n=new SPN.Class[t](null,s,t),SPN.Classes[t].push(n),n}},getOptions:function(t,e){var t,i={};return this.isJson(t)?i=JSON.parse(t):(t=t.split(";"),$.each(t,function(t,e){var n=e.split(": ");n[0]=$.trim(n[0]),n[1]=$.trim(n[1]),n[0].length>0&&n[1].length>0&&("false"===n[1]&&(n[1]=!1),"true"===n[1]&&(n[1]=!0),i[n[0]]=n[1])})),$.extend({},e,i)},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},isJson:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},centsToDollars:function(t){var e=Math.round(t)/Math.pow(10,2);return e.toString().match(/\.[0-9]$/)&&(e=e.toString().replace(/\.([0-9])$/,".$10")),e.toString().match(/\.00$/)&&(e=e.toString().replace(/\.00$/,"")),e.toString().match(/(\.[0-9]{2}).*/)&&(e=e.toString().replace(/(\.[0-9]{2}).*/,"$1")),e}},(SPN=SPN||{}).postal_codes={local:[10011],manhattan:[10001,10002,10003,10004,10005,10006,10007,10009,10010,10012,10013,10014,10016,10017,10018,10019,10020,10021,10022,10023,10024,10025,10026,10027,10028,10029,10030,10031,10032,10033,10034,10035,10036,10037,10038,10039,10040,10044,10065,10069,10075,10103,10110,10111,10112,10115,10119,10128,10152,10153,10154,10162,10165,10167,10168,10169,10170,10171,10172,10173,10174,10177,10199,10271,10278,10279,10280,10282,10301,10302,10303,10304,10305,10306,10307,10308,10309,10310,10311,10312,10314],boroughs:[11004,11005,11101,11102,11103,11104,11105,11106,11109,11201,11203,11204,11205,11206,11207,11208,11209,11210,11211,11212,11213,11214,11215,11216,11217,11218,11219,11220,11221,11222,11223,11224,11225,11226,11228,11229,11230,11231,11232,11233,11234,11235,11236,11237,11238,11239,11351,11354,11355,11356,11357,11358,11359,11360,11361,11362,11363,11364,11365,11366,11367,11368,11369,11370,11371,11372,11373,11374,11375,11377,11378,11379,11385,11411,11412,11413,11414,11415,11416,11417,11418,11419,11420,11421,11422,11423,11424,11425,11426,11427,11428,11429,11430,11432,11433,11434,11435,11436,11451,11691,11692,11693,11694,11697]},SPN=SPN||{},function(){var t,e,i=!1;i=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,e=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},SPN.Super=function(){},SPN.Super.prototype={init:function(t,i,n){this.util=void 0!==SPN.Utils?SPN.Utils:null,this.elements=$.extend({},this.elements,i.elements),this.options=$.extend({},this.options,i.options),this.elements.el=$(t)||$(document.body),this.elements.el.data(n+"-api",this),e(this.setup)&&this.setup()}},SPN.Super.extend=function(e){function n(){!i&&this.init&&this.init.apply(this,arguments)}var s,a,o=this.prototype;i=!0,s=new this,i=!1;for(a in e)s[a]="function"==typeof e[a]&&"function"==typeof o[a]&&t.test(e[a])?function(t,e){return function(){var i,n=this._super;return this._super=o[t],i=e.apply(this,arguments),this._super=n,i}}(a,e[a]):e[a];return n.prototype=s,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),(SPN=SPN||{}).Plugin=SPN.Plugin||{},SPN.Plugin.switch=SPN.Super.extend({options:{toggle:!1,trigger_active_class:"is-open"},elements:{},setup:function(){this.bindEvents()},ready:function(){this.elements.el.trigger("switch:ready")},bindEvents:function(){var t=this;t.elements.el.find("[data-switch-trigger]").on("click",function(e){var i=$(this).data("switch-trigger");t.elements.el.find("[data-switch-trigger]").removeClass(t.options.trigger_active_class),$(this).addClass(t.options.trigger_active_class),t.options.toggle,$(this).data("switch-checkbox")?t.handleCheckbox($(this),i):(e.preventDefault(),t.trigger(i)),t.elements.el.trigger("switch:triggered",[{target:i}])}),t.ready()},trigger:function(t){var e=this;t.indexOf(",")>=0?((t=t.split(",")).each(function(e,i){t[i]=$.trim(e)}),t.each(function(t){e.elements.el.find('[data-switch-target="'+t+'"]').each(function(){$(this).hasClass("is-active")?$(this).removeClass("is-active"):$(this).addClass("is-active")})})):e.elements.el.find('[data-switch-target="'+t+'"]').each(function(){$(this).hasClass("is-active")?$(this).removeClass("is-active"):$(this).addClass("is-active")})},handleCheckbox:function(t,e){var i=this,n=t.parent().find('input[type="checkbox"]');setTimeout(function(){n.is(":checked")?i.elements.el.trigger("switch:checked",[{target:e}]):i.elements.el.trigger("switch:unchecked",[{target:e}]),e.indexOf(",")&&(e=e.split(",")).each(function(t,i){e[i]=$.trim(t)}),e.each(function(t){i.elements.el.find('[data-switch-target="'+t+'"]').removeClass("is-active").each(function(){n.is(":checked")?void 0!==$(this).data("switch-checked")&&$(this).addClass("is-active"):void 0===$(this).attr("data-switch-checked")&&$(this).addClass("is-active")})})},10)}}),$(function(){SPN.Utils.initPlugin("switch")}),function(t){t.browserTest=function(e,i){var n="unknown",s="X",a=function(t,e){for(var i=0;i<e.length;i+=1)t=t.replace(e[i][0],e[i][1]);return t},o=function(e,i,o,r){var l={name:a((i.exec(e)||[n,n])[1],o)};return l[l.name]=!0,l.version=(r.exec(e)||[s,s,s,s])[3],l.name.match(/safari/)&&l.version>400&&(l.version="2.0"),"presto"===l.name&&(l.version=t.browser.version>9.27?"futhark":"linear_b"),l.versionNumber=parseFloat(l.version,10)||0,l.versionX=l.version!==s?(l.version+"").substr(0,1):s,l.className=l.name+l.versionX,l};e=(e.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?a(e,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):e).toLowerCase(),t.browser=t.extend(i?{}:t.browser,o(e,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),t.layout=o(e,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),t.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[n])[0].replace("sunos","solaris")},i||t("html").addClass([t.os.name,t.browser.name,t.browser.className,t.layout.name,t.layout.className].join(" "))},t.browserTest(navigator.userAgent)}(jQuery),$.browser.touch=!1,$.browser.mobile=$(window).width()<=480,$.browser.tablet=!1,$.browser.laptop=!1,$.browser.widescreen=!1,$("html").hasClass("touch")?($.browser.touch=!0,$.browser.tablet=$(window).width()>=768&&$(window).width()<=1024):($.browser.laptop=$(window).width()>=768&&$(window).width()<=1500&&$(window).height()<=600,$.browser.widescreen=$(window).width()>=1280),$.browser.mobile&&$("html").addClass("mobile"),$.browser.tablet&&$("html").addClass("tablet"),$.browser.laptop&&$("html").addClass("laptop"),$.browser.widescreen&&$("html").addClass("widescreen"),$.browser.changeOrientation=function(){switch(window.orientation){case-90:case 90:$("html").addClass("landscape").removeClass("portrait"),$.browser.orientation="landscape";break;default:$.browser.touch?($.browser.orientation="portrait",$("html").addClass("portrait").removeClass("landscape")):($.browser.orientation="static",$("html").addClass("static"))}},$.browser.onResizeScreen=function(){$(window).resize(function(){$.browser.touch||($.browser.laptop=$(window).width()>=768&&$(window).width()<=1500&&$(window).height()<=600,$.browser.widescreen=$(window).width()>=1280),$.browser.laptop?$("html").addClass("laptop"):$("html").removeClass("laptop"),$.browser.widescreen?$("html").addClass("widescreen"):$("html").removeClass("widescreen")})},$.browser.prepDevices=function(){window.onorientationchange=function(){$.browser.changeOrientation()},$.browser.changeOrientation()},$.browser.prepDevices(),$.browser.onResizeScreen(),function(t){function e(){return(new Date).getTime()}var i=encodeURIComponent,n=decodeURIComponent;t.cookie=function(s,a,o){var r=(o=t.extend({},o)).expires,l=a;return s?(s=i(s),void 0===a?(l=new RegExp("(?:^|; )"+s+"=([^;]*)").exec(document.cookie))&&JSON.parse(n(l[1])):(null===a&&(r=-1),"number"==typeof r&&(r=new Date(e()+r)),document.cookie=[s,"=",i(JSON.stringify(a)),r?"; expires="+r.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join(""),l)):(l={},t.each(document.cookie.split("; "),function(t,e){if(e){var i=e.split("=");l[n(i[0])]=JSON.parse(n(i[1]))}}),l)},t.support&&function(){var i="jsoncookie"+e();t.cookie(i,i),t.support.cookie=t.cookie(i)===i,t.cookie(i,null)}()}(jQuery),function(t,e,i){function n(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var s,a="hashchange",o=document,r=t.event.special,l=o.documentMode,c="on"+a in e&&(l===i||l>7);t.fn[a]=function(t){return t?this.bind(a,t):this.trigger(a)},t.fn[a].delay=50,r[a]=t.extend(r[a],{setup:function(){if(c)return!1;t(s.start)},teardown:function(){if(c)return!1;t(s.stop)}}),s=function(){function s(){var i=n(),o=p(d);i!==d?(u(d=i,o),t(e).trigger(a)):o!==d&&(location.href=location.href.replace(/#.*/,"")+o),r=setTimeout(s,t.fn[a].delay)}var r,l={},d=n(),h=function(t){return t},u=h,p=h;return l.start=function(){r||s()},l.stop=function(){r&&clearTimeout(r),r=i},t.browser.msie&&!c&&function(){var e,i;l.start=function(){e||(i=t.fn[a].src,i=i&&i+n(),e=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||u(n()),s()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(e.document.title=o.title)}catch(t){}})},l.stop=h,p=function(){return n(e.location.href)},u=function(i,n){var s=e.document,r=t.fn[a].domain;i!==n&&(s.title=o.title,s.open(),r&&s.write('<script>document.domain="'+r+'"<\/script>'),s.close(),e.location.hash=i)}}(),l}()}(jQuery,this),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={img:this.$el.find("img"),width:this.$el.find("img").width(),height:this.$el.find("img").height(),ratio:this.$el.data("ratio")},console.log(this)}var a="fillScreen";s.prototype={init:function(){var i=this,n=this.getWindowProperties();i.checkScreen(n),t(e).resize(function(){var t=i.getWindowProperties();i.checkScreen(t)})},getWindowProperties:function(){return{width:t(e).width(),height:t(e).height()-t("header").height(),ratio:t(e).width()/(t(e).height()+t("header").height())}},checkScreen:function(t){var e=this,i=-Math.abs(t.width-t.height*this.instance.ratio)/2;t.width>t.height?t.ratio>e.instance.ratio?e.adjustImage(0,"100%","auto"):t.ratio<e.instance.ratio&&e.adjustImage(i,t.height*this.instance.ratio,t.height):t.width<t.height&&e.adjustImage(i,"auto",t.height)},adjustImage:function(t,e,i){this.instance.img.css({marginLeft:t,width:e,height:i})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t){t.fn.popupWindow=function(e){return this.each(function(){t(this).click(function(){t.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=t.extend({},t.fn.popupWindow.defaultSettings,e||{});var i="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName,settings.windowURL=this.href||settings.windowURL;var n,s;return settings.centerBrowser?(t.browser.msie?(n=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),s=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(n=window.screenY+(window.outerHeight/2-settings.height/2),s=window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,i+",left="+s+",top="+n).focus()):settings.centerScreen?(n=(screen.height-settings.height)/2,s=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,i+",left="+s+",top="+n).focus()):window.open(settings.windowURL,settings.windowName,i+",left="+settings.left+",top="+settings.top).focus(),!1})})}}(jQuery),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={parent:t("#"+this.$el.data("parent"))||null,width:this.$el.width(),height:this.$el.height(),offset_x:this.$el.data("offset-x")||0,offset_y:this.$el.data("offset-y")||0,stack:this.$el.data("stack")||1}}var a="autoCenter";s.prototype={init:function(){var i,n=this;this.instance.parent?(i=this.getParentDimensions(),this.instance.parent.css("position","relative")):i=this.getWindowDimensions(),this.autoCenter(this.isHigh(i),i),t(e).resize(function(){var t;t=n.instance.parent?n.getParentDimensions():n.getWindowDimensions(),n.autoCenter(n.isHigh(t),t)}),t(e).on("load",function(){t(this).trigger("resize")})},getWindowDimensions:function(){return{height:t(e).height(),width:t(e).width()}},getParentDimensions:function(){var t=this;return{height:t.instance.parent.height(),width:t.instance.parent.width()}},isHigh:function(t){return this.instance.height>t.height},autoCenter:function(t,e){var i=this,n={height:(e.height-this.instance.height)/2,width:(e.width-this.instance.width)/2};i.instance.parent?n.setting="absolute":n.setting="fixed",this.$el.css({position:n.setting,zIndex:this.instance.stack,top:n.height+this.instance.offset_y+"px",left:n.width+this.instance.offset_x+"px"}),t?this.$el.css({top:0,height:e.height}):this.$el.css({height:""})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={url:this.$el.find(".link-target").attr("href")}}var a="linkPad";s.prototype={init:function(){var t=this;this.$el.click(function(i){i.preventDefault(),e.location=t.instance.url})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),(SPN=SPN||{}).Plugin=SPN.Plugin||{},SPN.Plugin.subscribe=SPN.Super.extend({name:"subscribe",options:{onSuccess:function(t,e){200===parseInt(e.code)?($("footer").find(".message").html("Thanks! Check your email to confirm your subscription."),$("footer").find(".message").addClass("is-active"),setTimeout(function(){$("footer").find(".message").removeClass("is-active"),$('[data-switch-trigger="newsletter"]').trigger("click")},3e3)):($("footer").find(".message").html(e.msg).addClass("is-active"),setTimeout(function(){$("footer").find(".message").removeClass("is-active"),$("footer").find("input").focus()},2e3))},onError:function(t,e){void 0!==e.msg?$("footer").find(".message").html(e.msg).addClass("is-active"):$("footer").find(".message").html("We're sorry. There was an error. Please try again"),setTimeout(function(){$("footer").find(".message").removeClass("is-active"),$("footer").find("input").focus()},2e3)},container:null},elements:{container:null},setup:function(){this.options.container&&(this.elements.container=$("#"+this.options.container)),this.bindEvents()},ready:function(){this.elements.el.trigger("subscribe:ready")},bindEvents:function(){var t=this;this.elements.el.on("submit",function(e){e.preventDefault();var i;t.elements.container&&t.elements.container.addClass("processing"),t.elements.el.addClass("processing"),t.elements.el.find('input[type="submit"]').prop("disabled",!0),$.ajax({url:t.elements.el.prop("action"),type:"post",data:t.elements.el.serialize(),data_type:"json"}).done(function(e){i=t.util.isJson(e)?JSON.parse(e):e,t.options.onSuccess(t,i)}).fail(function(e){i=t.util.isJson(e.responseText)?JSON.parse(e.responseText):e,t.options.onError(t,i)}).complete(function(e){t.elements.container&&t.elements.container.removeClass("processing"),t.elements.el.removeClass("processing"),t.elements.el.find('input[type="submit"]').prop("disabled",!1)})}),t.ready()}}),$(function(){SPN.Utils.initPlugin("subscribe")}),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={id:this.$el.attr("id"),grayscale:this.$el.data("grayscale")||!1,zoom:parseInt(this.$el.data("zoom")),x:parseFloat(this.$el.data("lat")),y:parseFloat(this.$el.data("lng")),marker:this.$el.data("marker")||!1,icon:this.$el.data("icon")||!1,map:null,globalspace:this.$el.data("global")||!1,styledMap:null,latLng:null,static_img:"/assets/images/site/static-map.jpg"}}var a="mapIt";s.prototype={init:function(){this.drawMap(),this.instance.globalspace&&this.addToGlobalSpace()},drawMap:function(){this.instance.latLng=new google.maps.LatLng(this.instance.x,this.instance.y);var t={scrollwheel:!1,streetViewControl:!1,mapTypeControl:!1,center:this.instance.latLng,zoom:this.instance.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP};if(this.instance.map=new google.maps.Map(i.getElementById(this.instance.id),t),this.instance.grayscale){this.instance.styledMap=new google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],{name:"grayscale"}),this.instance.map.mapTypes.set("grayscale",this.instance.styledMap),this.instance.map.setMapTypeId("grayscale")}this.instance.marker&&this.addMarker(),this.instance.globalspace&&(SPN.prop.map={instance:this.instance.map,x:this.instance.x,y:this.instance.y}),this.mapResize()},addMarker:function(){if(this.instance.icon){var t=new google.maps.MarkerImage(this.instance.icon,new google.maps.Size(237,70),new google.maps.Point(0,0),new google.maps.Point(81.5,59));new google.maps.Marker({position:this.instance.latLng,map:this.instance.map,icon:t})}else new google.maps.Marker({position:this.instance.latLng,map:this.instance.map})},mapResize:function(){var i=this;t(e).on("resize",function(){i.adjustMap()}),t(".mapResize").on("click",function(){i.adjustMap()})},adjustMap:function(){var t=this,e=new google.maps.LatLng(t.instance.x,t.instance.y);google.maps.event.trigger(t.instance.map,"resize"),t.instance.map.setCenter(e)},useStaticMap:function(){var t='<img src="'+this.instance.static_img+'" alt="Map" />';this.$el.html(t)},addToGlobalSpace:function(){var t=this;SPN.map=t}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e){var i=this;i.el=e,i.$el=t(e),i._name=a,i.pages={},i.submitBtn=i.$el.find('input[type="submit"]'),i.allInput=this.$el.find("input").add(this.$el.find("select")).add(this.$el.find("textarea")).not('input[type="submit"]').not(t(".checkbox").find("input")),i.msgs=i.$el.data("msgs")||!1,i.setInit=this.$el.find(".set-init")||null,i.library=i.$el.data("library")||!1,i.processing=i.$el.data("processing"),i.url=i.$el.attr("action"),i.errors={letters:[],num:[],email:[],password:[],password_confirm:[],integers:[],zip:[],exact:[],range:[],cap:[],phone:[],begin:[],required:[],year:[],num_cap:[],specific:[],checkbox:[],status:!1},i.patterns={containsLetters:/[A-Za-z]/,password:/^[A-Za-z].*[0-9]|[0-9].*[A-Za-z]$/,email:/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/,zip:/^\d{5}$|^\d{5}-\d{4}$/,integers:/^[0-9]+$/,phone:/^[0-9]{10}$/,letters:/^[a-zA-Z]+$/},i.$el.find(".validate-page").length>0?(i.continueAction=i.$el.find(".validate-page"),i.continueCallback=null,t.each(i.continueAction,function(e,n){var s=t(n).data("target");i.pages[s]={},i.pages[s].parentEl=i.$el.find("#"+s);var a=i.pages[s].parentEl;i.pages[s].formEls={allInput:a.find("input").add(a.find("select")).add(a.find("textarea")).not('input[type="submit"]').not(t(".checkbox").find("input")),letters:a.find(".text"),checkbox:a.find(".checkbox"),exact:a.find(".exact"),email:a.find('input[type="email"]').add(a.find(".email")),password:a.find('input[type="password"]'),password_confirm:a.find(".confirm-password"),password_set:a.find(".set-password"),num:a.find(".num"),year:a.find(".year"),range:a.find(".range"),cap:a.find(".cap"),num_cap:a.find(".num_cap"),begin:a.find(".begin"),zip:a.find(".zip"),phone:a.find(".phone"),specific:a.find(".specific"),total:a.find(".total").length||!1},i.pages[s].formEls.required=i.pages[s].formEls.allInput.not(a.find(".optional"))})):(i.continueAction=!1,i.pages.default={},i.pages.default.formEls={allInput:this.$el.find("input").add(this.$el.find("select")).add(this.$el.find("textarea")).not('input[type="submit"]').not(t(".checkbox").find("input")),letters:this.$el.find(".text"),checkbox:this.$el.find(".checkbox"),exact:this.$el.find(".exact"),email:this.$el.find('input[type="email"]').add(this.$el.find(".email")),password:this.$el.find('input[type="password"]'),password_confirm:this.$el.find(".confirm-password"),password_set:this.$el.find(".set-password"),num:this.$el.find(".num"),year:this.$el.find(".year"),range:this.$el.find(".range"),cap:this.$el.find(".cap"),num_cap:this.$el.find(".num_cap"),begin:this.$el.find(".begin"),zip:this.$el.find(".zip"),phone:this.$el.find(".phone"),specific:this.$el.find(".specific"),total:this.$el.find(".total").length||!1},i.pages.default.formEls.required=i.pages.default.formEls.allInput.not(i.pages.default.formEls.allInput.find(".optional")))}var a="prepareForms";s.prototype={init:function(){this.addPlaceholder(),this.setInit&&this.bindSameAs(),this.bindValidate(),this.bindErrorFX()},bindSameAs:function(){var e=this;arr=["first","last","address-1","address-2","city","state","country","zip","phone","email"],e.setShipping=this.$el.find(".set-shipping"),e.getShipping=this.$el.find(".get-shipping"),e.setInit.on("click",function(i){i.preventDefault(),t.each(arr,function(t,i){var n=e.getShipping.find(".get-"+i);if(n.is("select")){var s=n.find(":selected").val(),a=e.setShipping.find(".set-"+i).attr("name");FGC.uiForms.select.updateForm(a,s)}else e.setShipping.find(".set-"+i).val(n.val())})})},addPlaceholder:function(){var e=this.$el.find("[placeholder]");e.length>0&&(e.each(function(){if("password"===t(this).attr("type")){e=t(this).attr("placeholder");t(this).removeAttr("placeholder"),t(this).after('<span class="placeholder blur">'+e+"</span>")}else if(""==t(this).val()){t(this).addClass("blur");var e=t(this).attr("placeholder");t(this).val(e)}}),e.on("focus",function(){if("password"===t(this).attr("type")){e=t(this).next(".placeholder").text();t(this).parent().find(".placeholder").fadeOut(0)}else{var e=t(this).attr("placeholder");t(this).val()===e&&t(this).removeClass("blur").val("")}}),e.on("blur",function(){if("password"===t(this).attr("type")){e=t(this).next(".placeholder").text();""===t(this).val()&&t(this).parent().find(".placeholder").fadeIn(0)}else{var e=t(this).attr("placeholder");""==t(this).val()&&t(this).addClass("blur").val(e)}}),this.$el.on("click","span",function(){t(this).hasClass("placeholder")&&(t(this).fadeOut(0),t(this).parent().find("input").focus())}))},clearPlaceholder:function(e){var i=this;if("all"===e)i.allInput.each(function(){var e=t(this).attr("placeholder");e&&e==t(this).val()&&t(this).val("")});else{var n=e.attr("placeholder");n&&n==e.val()&&e.val("")}},addErrorMsg:function(e,i,n){if(!e.next().hasClass("form-error"))if(this.msgs){e.data("error-msg")&&(i=e.data("error-msg"));var s='<span class="form-error">'+i+'<span class="arrow"></span></span>';if(e.hasClass("detachError")){var a=e.data("detachto");a?t("."+a).append(s):t("body").append(s),e.addClass("error")}else e.addClass("error").after(s)}else e.addClass("error");n.push(i),this.errors.status=!0},validate:function(e){var i=this;return i.pages[e].formEls.required.each(function(){if(i.clearPlaceholder(t(this)),""===t(this).val()){i.addErrorMsg(t(this),"Required Field.",i.errors.required)}}),i.pages[e].formEls.letters.each(function(){if(i.clearPlaceholder(t(this)),""===t(this).val()||!i.patterns.letters.test(t(this).val())){i.addErrorMsg(t(this),"Please use letters only (A-Z, a-z)",i.errors.letters)}}),i.pages[e].formEls.password_confirm.each(function(){if(i.clearPlaceholder(t(this)),t(this).val()!==i.pages[e].password_set.val()){i.addErrorMsg(t(this),"Oops! Password does not match.",i.errors.password)}}),i.pages[e].formEls.password.each(function(){var e=!1,n=t(this);if(i.clearPlaceholder(n),""===n.val()){if(n.hasClass("confirm-password"))s="Please confirm your password";else s="Please enter your password";e=!0}else if(n.hasClass("set-password")&&n.val().length<5){s="Password must be a minimum of 5 characters.";e=!0}else if(n.hasClass("set-password")&&!i.patterns.password.test(n.val())){s="Password must contain at least one letter and one number.";e=!0}else if(n.hasClass("set-password")&&n.val().length>50){var s="Password cannot be more than 50 characters long.";e=!0}e&&!n.next().hasClass("form-error")&&i.addErrorMsg(n,s,i.errors.password)}),i.pages[e].formEls.checkbox.each(function(){if(!t(this).find('input[type="checkbox"]').is(":checked")&&!t(this).next().hasClass("form-error")){i.addErrorMsg(t(this),"Please select one or more options",i.errors.checkbox)}}),i.pages[e].formEls.email.each(function(){if(i.clearPlaceholder(t(this)),""===t(this).val()){if(!t(this).next().hasClass("form-error")){e="Please enter your email address";i.addErrorMsg(t(this),e,i.errors.email)}}else if(!i.patterns.email.test(t(this).val())&&!t(this).next().hasClass("form-error")){var e="Please enter a valid email address";i.addErrorMsg(t(this),e,i.errors.email)}}),i.pages[e].formEls.num.each(function(){if(!(""!==t(this).val()&&i.patterns.integers.test(t(this).val())||t(this).next().hasClass("form-error"))){i.addErrorMsg(t(this),"Please enter a valid whole number (no decimals)",i.errors.integers)}}),i.pages[e].formEls.num_cap.each(function(){i.clearPlaceholder(t(this));var e=parseInt(t(this).val()),n=parseInt(t(this).data("cap"));if(e>n&&!t(this).next().hasClass("form-error")){var s="Must be less than or equal to "+n+".";i.addErrorMsg(t(this),s,i.errors.num_cap)}}),i.pages[e].formEls.phone.each(function(){var e=t(this).val().replace(/[^0-9]+/g,"");if((""===e||!i.patterns.integers.test(e)||i.patterns.containsLetters.test(t(this).val())||parseInt(e.length)<10)&&!t(this).next().hasClass("form-error")){i.addErrorMsg(t(this),"Please enter a valid phone number",i.errors.phone)}}),i.pages[e].formEls.year.each(function(){var e=t(this).val().toString();if(!(""!==t(this).val()&&i.patterns.integers.test(t(this).val())&&4===parseInt(e.length)||t(this).next().hasClass("form-error"))){i.addErrorMsg(t(this),"Please enter a valid year (format xxxx)",i.errors.year)}}),i.pages[e].formEls.zip.each(function(){var e=t(this).val().toString();if(!(""!==t(this).val()&&i.patterns.integers.test(t(this).val())&&5===parseInt(e.length)||t(this).next().hasClass("form-error"))){i.addErrorMsg(t(this),"Please enter a valid zip code (format xxxxx)",i.errors.zip)}}),i.pages[e].formEls.exact.each(function(){var e=t(this).val().toString(),n=t(this).data("limit");if(e.length!==n&&!t(this).next().hasClass("form-error")){var s="Must be exactly "+n+" characters long";i.addErrorMsg(t(this),s,i.errors.exact)}}),i.pages[e].formEls.specific.each(function(){var e=t(this).val(),n=t(this).data("specific");if(e!=n&&!t(this).next().hasClass("form-error")){var s="Value must equal "+n;i.addErrorMsg(t(this),s,i.errors.specific)}}),i.pages[e].formEls.range.each(function(){i.clearPlaceholder(t(this));var e=t(this).val().length,n=parseInt(t(this).data("begin")),s=parseInt(t(this).data("cap"));if(!(e>=n&&e<=s||t(this).next().hasClass("form-error"))){var a="Must be between "+n+" and "+s+" characters long";i.addErrorMsg(t(this),a,i.errors.range)}}),i.pages[e].formEls.cap.each(function(){i.clearPlaceholder(t(this));var e=t(this).val().length,n=parseInt(t(this).data("cap"));if(e>n&&!t(this).next().hasClass("form-error")){var s="Too long. Must be "+n+" characters or less";i.addErrorMsg(t(this),s,i.errors.cap)}}),i.pages[e].formEls.begin.each(function(){i.clearPlaceholder(t(this));var e=t(this).val().length,n=parseInt(t(this).data("begin"));if(e<n&&!t(this).next().hasClass("form-error")){var s="Too short. Must be at least "+n+" characters long";i.addErrorMsg(t(this),s,i.errors.begin)}}),!i.errors.status},showErrors:function(){t(".error-notice").html("Oops! There were errors on the page.").slideDown(300)},bindTotalEvents:function(){var e=this;this.$el.find(".total").each(function(){var i=t(this),n=0,s=t(this).find(".total_calc"),a=i.find('input[type="text"]').not(s);a.blur(function(){n=0,a.each(function(){if(""!=t(this).val()&&e.patterns.integers.test(t(this).val())||t(this).val(),isNaN(t(this).val())||""==t(this).val()||null==t(this).val())i=0;else var i=parseInt(t(this).val());n+=i}),e.instance.total.val(n)})})},bindErrorFX:function(){this.allInput.focus(function(){if(t(this).hasClass("error")){t(this).removeClass("error").next(".form-error").remove(),t(".error-notice").slideUp(300);var e=t(this).data("detachto");e&&t("."+e).find(".form-error").remove()}}),t(".checkbox").length>0&&t(".checkbox").checkbox.click(function(){t(this).hasClass("error")&&(t(this).removeClass("error").next(".form-error").remove(),t(".error-notice").fadeOut())}),this.allInput.blur(function(){})},bindValidate:function(){function i(i){if(!t(this).hasClass("off")){if(n.errors={letters:[],num:[],email:[],password:[],password_confirm:[],integers:[],zip:[],exact:[],range:[],cap:[],phone:[],begin:[],required:[],year:[],checkbox:[],num_cap:[],specific:[],status:!1},n.$el.find(".form-error").remove(),n.$el.find(".error").removeClass("error"),!n.validate(i))return n.addPlaceholder(),n.showErrors(),n.continueAction&&(t(e).scrollTop(0),n.continueAction.removeClass("processing")),n.submitBtn.attr("disabled",null).removeClass("processing"),!1;n.continueAction&&n.continueAction.not('input[type="submit"]').removeClass("processing"),n.pages[i].is_valid=!0,n.continueCallback?n.onPageValidation(n.continueCallback):n.processing?(n.clearPlaceholder("all"),n.formSubmit.processing(n)):(n.clearPlaceholder("all"),n.$el.get(0).submit())}}var n=this;n.continueAction?(this.continueAction.on("keydown",function(t){13===t.which&&(t.preventDefault(),n.continueAction.addClass("processing"),n.continueAction.hasClass("submit")&&n.submitBtn.attr("disabled","disabled"),n.continueCallback=n.continueAction.data("callback"),i(n.continueAction.data("target")))}),this.continueAction.on("click",function(e){e.preventDefault(),t(this).addClass("processing"),n.continueCallback=t(this).data("callback"),"submit"===t(this).attr("type")&&t(this).attr("disabled","disabled"),i(t(this).data("target"))})):this.$el.on("submit",function(t){n.submitBtn.attr("disabled","disabled").addClass("processing"),t.preventDefault(),i("default")})},formSubmit:{processing:function(e){switch(e.processing){case"mailchimp":e.$el.fadeOut(100,function(){t("#newsletter-signup").addClass("processing"),LIBRARY.processing[e.processing].init(e.allInput,e.url).success(function(t){-1!=t.indexOf("Thanks")?e.formSubmit.success(e,t):-1!=t.indexOf("already subscribed")?(t="Looks like that email address is already subscribed. Thanks!",e.formSubmit.error(e,t)):e.formSubmit.error(e,null)})});break;case"stripe":LIBRARY.processing[e.processing].init(e.$el,function(t){t?(FGC.overlays.payment.instance.overlay.find(".msg").html(t),FGC.overlays.payment.showOverlay(),e.submitBtn.attr("disabled",null).removeClass("processing")):e.$el.get(0).submit()})}},success:function(e,i){switch(e.processing){case"mailchimp":i='<div class="success-msg copy-alt">'+i+"</div>",t("#newsletter-signup").removeClass("processing").append(i).find(".success-msg").fadeIn(500),setTimeout(function(){e.formSubmit.restore(e)},5e3)}},error:function(e,i){switch(e.processing){case"mailchimp":null===i?i="Oops, something went wrong! Please try again later, or contact us at 718-797-0011 so we can add you to our list.":(i='<div class="success-msg copy-alt">'+i+"</div>",t("#newsletter-signup").removeClass("processing").append(i).find(".success-msg").fadeIn(500),setTimeout(function(){e.formSubmit.restore(e)},5e3))}},restore:function(e){t("#newsletter-signup").find(".success-msg").fadeOut(100,function(){e.allInput.val("").focus(),e.$el.fadeIn(1e3),t(this).remove()})}},onPageValidation:function(i){var n=this;switch(i){case"checkout-continue":FGC.modules.checkout.createCustomer(n.$el),FGC.modules.checkout.updateCartShipping(n.$el.find('input[name="shipping_option"]:checked').val(),function(){FGC.modules.checkout.calculateCartTax(),t("#tab-2").removeClass("disable"),location.hash=n.continueAction.attr("href"),t(e).scrollTop(0)})}}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e,i){this.el=e,this.$el=t(e),this._name=a,this.options={ratio:i.ratio||null}}var a="ratio";s.prototype={init:function(){null===this.options.ratio&&(this.width=parseInt(this.$el.css("width")),this.height=parseInt(this.$el.css("height")),this.options.ratio=this.width/this.height),this.bindEvents()},bindEvents:function(){var i=this;t(e).on("resize",function(t){var e=i.$el.width()/i.options.ratio;i.$el.height(e)}),t(e).trigger("resize")}},t.fn[a]=function(e){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this,e).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={nav:this.$el.find(".tabs-nav"),anchors:this.$el.find(".tabs-anchor"),container:this.$el.find(".tabs-container"),views:this.$el.find(".tabs-view"),length:this.$el.find(".tabs-view").length}}var a="tabs";s.prototype={init:function(){if(this.instance.length>1){for(var t=0;t<this.instance.length;t++)this.instance.views.eq(t).attr("id","tab-"+t),this.instance.anchors.eq(t).attr("data-target",t);this.bindAnchors(),this.onHashChange()}else this.instance.views.eq(0).addClass("active"),this.instance.anchors.eq(0).addClass("active")},bindAnchors:function(){this.instance.anchors.click(function(e){e.preventDefault(),t(this).hasClass("disable")||(location.hash=t(this).attr("href"))})},onHashChange:function(){var i=this.instance;t(e).hashchange(function(){location.hash||(location.hash=i.anchors.eq(0).attr("href"));var e=null;i.anchors.each(function(){t(this).attr("href")===location.hash&&(e=t(this).data("target"))}),i.container.find("#tab-"+e).hasClass("disable")&&(location.hash=i.anchors.eq(0).attr("href"),e="0"),i.views.removeClass("active"),i.anchors.removeClass("active"),i.container.find(".img").length>0&&i.container.find(".img").css("display","none"),i.container.find("#tab-"+e).addClass("active"),i.nav.find(".tabs-anchor[data-target="+e+"]").addClass("active"),i.container.find(".img").length>0&&i.container.find(".img").fadeIn(600)}),t(e).hashchange()}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),(SPN=SPN||{}).Plugin=SPN.Plugin||{},SPN.Plugin.overlay=SPN.Super.extend({name:"overlay",options:{close_on_click:!0,color:"rgba(0, 0, 0, .4)",is_open:!1,transition:"-webkit-transition: opacity .3s ease-out; -moz-transition: opacity .3s ease-out; -o-transition: opacity .3s ease-out; transition: opacity .3s ease-out;"},bindEvents:function(){var t=this;this.elements.overlay.on("click",function(e){e.preventDefault(),t.options.close_on_click&&(t.elements.el.trigger("overlay:closing"),t.close())}),this.elements.el.trigger("overlay:ready"),this.options.is_ready=!0},setup:function(){this.elements.overlay=this.elements.el,this.elements.overlay.css({position:"fixed",top:0,bottom:0,right:0,"z-index":2147483646,background:this.options.color,opacity:0,"-webkit-transition":"opacity 400ms ease-out","-moz-transition":"opacity 400ms ease-out","-o-transition":"opacity 400ms ease-out",transition:"opacity 400ms ease-out",left:"-999999px",width:"1px",height:"1px"}).appendTo("body"),this.bindEvents(),this.elements.el.trigger("overlay:initiated")},toggle:function(){this.elements.el.trigger("overlay:toggle"),this.options.is_open?this.close():this.open()},open:function(){var t=this;clearTimeout(t.options.transition_timeout),this.elements.overlay.css({width:"100%",height:"100%",left:0,opacity:1}),this.options.is_open=!0,this.elements.el.trigger("overlay:open")},close:function(){var t=this;this.elements.overlay.css({opacity:0}),this.options.transition_timeout=setTimeout(function(){t.elements.overlay.css({left:"-999999px",width:"1px",height:"1px"})},500),this.options.is_open=!1,this.elements.el.trigger("overlay:close")}}),$(function(){SPN.Utils.initPlugin("overlay")}),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={}}var a="customForms";s.prototype={init:function(){this.substituteCustomElements(),FGC.uiForms=this},substituteCustomElements:function(){var t=this,e=this.$el.find('input[type="checkbox"]'),i=this.$el.find("select"),n=this.$el.find('input[type="text"]'),s=this.$el.find("textarea"),a=this.$el.find(".radio");a.exists(function(){t.radio.createElements(t,a),t.radio.bindEvents(t)}),i.exists(function(){t.select.createElements(t,i),t.select.bindEvents(t)}),e.exists(function(){t.checkbox.createElements(t,e),t.checkbox.bindEvents(t,e)}),s.exists(function(){t.textarea.createElements(t,s),t.textarea.bindEvents()}),n.exists(function(){t.textline.createElements(t,n),t.textline.bindEvents()})},createBind:function(e,i){"ui-select"===i.class_name?(this.$el.find("select").hide(),e.after(i.str),this.$el.find("."+i.class_name).on("focus",function(){t(this).addClass("focus")}),this.$el.find("."+i.class_name).blur("focus",function(){t(this).removeClass("focus")}),this.$el.find("a").each(function(){t(this).attr("hideFocus","true").css("outline","none")})):(e.css({position:"absolute",left:"-999999px"}),e.after(i.str),e.on("focus",function(){t(this).next("."+i.class_name).addClass("focus")}),e.on("blur",function(){t(this).next("."+i.class_name).removeClass("focus")}))},checkbox:{createElements:function(e,i){i.each(function(){var i,n,s=t(this).attr("name"),a=t(this).attr("class"),o={};n=t(this).attr("disabled")?" disabled":"",i=t(this).is(":checked")?" checked":"",a=(a=a?" "+a:"")+i+n,o.str='<span id="'+s+'" class="ui-checkbox'+a+'"></span>',o.class_name="ui-checkbox",e.createBind(t(this),o)})},bindEvents:function(e,i){var n=this;e.$el.find(".ui-checkbox").on("click",function(){if(t(this).hasClass("disabled"))return!1;t(this).prev('input[type="checkbox"]').focus();var e=t(this),i=e.attr("id");e.hasClass("checked")?(e.removeClass("checked"),n.updateForm(i,null)):(e.addClass("checked"),n.updateForm(i,!0))}),i.bind("keydown",function(e){32==e.which&&t(this).next(".ui-checkbox").toggleClass("checked")})},updateForm:function(e,i){i?t('input[name="'+e+'"]').attr("checked","checked"):t('input[name="'+e+'"]').attr("checked",null)}},select:{createElements:function(e,i){var n=this;i.each(function(){var i,s=[],a=t(this).attr("name"),o=t(this).attr("class"),r={},l="";o=o?" "+o:"",t(this).find("option").each(function(e){var a;t(this).hasClass("legend")?(n.legend_hover=t(this).data("hover"),i=t(this).html(),n.legend=i):(t(this).prop("selected")?(a='<span class="selected option'+e+'" data-value="'+t(this).val()+'">'+t(this).html()+"</span>",i=t(this).html()):a='<span class="option'+e+'" data-value="'+t(this).val()+'">'+t(this).html()+"</span>",s.push(a))});for(var c=0;c<s.length;c++)l+=s[c];r.str='<a href="#" style="display: block" id="'+a+'" class="ui-select'+o+'"><strong class="current_selected">'+i+'</strong><span class="options">'+l+"</span></a>",r.class_name="ui-select",e.createBind(t(this),r)})},bindEvents:function(e){var n=this,s={open:function(e){s.close(),e.next(".options").not(":visible")&&(s.close(),e.parent(".ui-select").addClass("active"),e.next(".options").fadeIn(0).css("display","block"),t(".link-top-inverse").not(".header-subtitle").css("opacity",0),t(".link-top-inverse.header-subtitle").css("borderBottom","1px solid transparent"))},close:function(){e.$el.find(".ui-select").removeClass("active").find(".options").fadeOut(0),t(".link-top-inverse").not(".header-subtitle").css("opacity",1)}};t(i).click(function(){t(".ui-select").find(".options").is(":visible")&&s.close()}),e.$el.find(".ui-select").hover(function(){t(this).find(".current_selected").html(n.legend_hover)},function(){if(!t(this).find(".options").is(":visible")){var e=t(this).find("span.selected").html();t(this).find(".current_selected").html(e)}}),e.$el.find(".ui-select").find(".current_selected").on("click",function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().focus(),t(this).next(".options").is(":visible")?s.close():s.open(t(this))}),e.$el.find(".ui-select").find(".options span").on("click",function(e){var i=t(this).parent().parent().attr("id");t(this).parent().parent().focus(),e.preventDefault(),e.stopPropagation(),s.close(),t("#"+i).find(".options span").removeClass("selected"),t(this).addClass("selected"),n.updateForm(i,t(this).data("value"),t(this).text())}),e.$el.find(".ui-select").bind("keydown",function(e){var i=t(this).attr("id"),a=t("#"+i).find(".selected");if(t(this).find(".options").is(":visible"))switch(e.which){case 9:s.close();break;case 32:e.preventDefault(),s.close();break;case 38:if(e.preventDefault(),0===a.length){var o=t("#"+i).find(".options span:last-child");o.addClass("selected"),n.updateForm(i,o.data("value"),o.text())}else 0!==a.index()&&(t("#"+i).find(".options span").removeClass("selected"),a.prev().addClass("selected"),n.updateForm(i,a.prev().data("value"),a.prev().text()));break;case 40:if(e.preventDefault(),0===a.length){var r=t("#"+i).find(".options span:first-child");r.addClass("selected"),n.updateForm(i,r.data("value"),r.text())}else{if(a.is(":last-child"))break;t("#"+i).find(".options span").removeClass("selected"),a.next().addClass("selected"),n.updateForm(i,a.next().data("value"),a.next().text())}}else 32!==e.which&&38!==e.which&&40!==e.which||(e.preventDefault(),s.open(t(this).find(".current_selected")))})},updateForm:function(e,i,n){var s=this;t('select[name="'+e+'"]').find("option").attr("selected",null).each(function(){t(this).val()==i&&(current=s.legend?s.legend+" - ":"",t("#"+e).find(".current_selected").text(n),t(this).attr("selected","selected"))})}},textarea:{createElements:function(t,e){e.each(function(){})},bindEvents:function(){},updateForm:function(){}},textline:{createElements:function(t,e){e.each(function(){})},bindEvents:function(){},updateForm:function(){}},radio:{createElements:function(e,i){var n=[],s="";ui_name=i.find("input").attr("name"),el={},ui_classes=i.attr("class"),ui_classes=ui_classes?" "+ui_classes:"",i.each(function(){t(this).find("input").each(function(){t(this).prop("checked")?n.push('<li class="checked" data-value="'+t(this).val()+'">'+t(this).next(".radio-label").html()+"</li>"):n.push('<li data-value="'+t(this).val()+'">'+t(this).next(".radio-label").html()+"</li>")});for(var e=0;e<n.length;e++)s+=n[e];el.str='<ul id="'+ui_name+'" class="ui-radio'+ui_classes+'">'+s+"</ul>",el.class_name="ui-radio",t(this).after(el.str).css({position:"absolute",left:"-999999px"}),t(this).find("input").on("focus",function(){var e=t(this).parent().find("input").index(this);i.next("."+el.class_name).find("li").removeClass("focus checked"),i.next("."+el.class_name).find("li:eq("+e+")").addClass("focus checked")}),t(this).find("input").on("blur",function(){i.next("."+el.class_name).find("li").removeClass("focus")})})},bindEvents:function(e){var i=this,n="",s="";e.$el.find(".ui-radio").find("li").on("click",function(){var e=t(this).index();t(this).addClass("focus"),t(this).closest(".ui-radio").prev(".radio").find("input").attr("checked",null).blur(),t(this).closest(".ui-radio").prev(".radio").find("input:eq("+e+")").focus(),(s=t(this).closest(".ui-radio")).find(".checked").removeClass("checked"),n=s.attr("id"),t(this).addClass("checked"),i.updateForm(n,t(this).data("value"),s)}),e.$el.find(".radio").bind("keyup",function(e){if(32===e.which||38===e.which||40===e.which||39===e.which||37===e.which){var n=t(this),s=e.target.name;n.find(".checked").removeClass("checked"),n.find("input").attr("checked",null),i.updateForm(s,e.target.defaultValue,n)}})},updateForm:function(e,i,n){t('input[name="'+e+'"]').each(function(){parseInt(t(this).val())===parseInt(i)&&t(this).prop("checked","checked")})}}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={swapInit:this.$el}}var a="swap";s.prototype={init:function(){this.bindEvents()},bindEvents:function(){this.instance.swapInit.on("click",function(e){e.preventDefault();var i=t("#"+t(this).data("target"));t(this).closest(".swap").fadeOut(0,function(){i.fadeIn(600,function(){t(this).addClass("active"),i.removeClass("active")})})})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),(SPN=SPN||{}).Plugin=SPN.Plugin||{},SPN.Plugin.modal=SPN.Super.extend({name:"modal",options:{close_on_click:!0,ajax:!1},elements:{},setup:function(){this.elements.el.css("height",this.options.height),this.id=this.elements.el.attr("id"),this.elements.close=this.elements.el.find("[data-modal-close]"),this.util.initPlugin("overlay"),$("[data-overlay]").length?this.overlay=$("[data-overlay]").data("overlay-api"):this.overlay=!1,this.bindEvents()},ready:function(){this.elements.el.trigger("modal:ready")},bindEvents:function(){var t=this;$(document).on("click",'[data-modal-trigger="'+t.id+'"]',function(e){e.stopPropagation(),e.preventDefault(),t.closeAll(),t.open($(this))}),this.elements.el.on("click",function(e){t.options.close_on_click||e.stopPropagation()}),document.getElementById(this.id).addEventListener("click",function(e){var n=e.target,s=[];if("A"!==n.nodeName){for(;n;)s.unshift(n),n=n.parentNode;for(i=0;i<s.length;i++)"A"===s[i].nodeName&&(n=s[i])}var a=$(n).attr("data-modal-trigger");void 0!==a&&(t.closeAll(),$("#"+a).data("modal-api").open())},!0),this.elements.el.on("click",'[data-modal-trigger="'+t.id+'"]',function(e){t.options.close_on_click||e.stopPropagation(),e.preventDefault(),t.closeAll(),t.open($(this))}),this.elements.close.on("click",function(e){e.stopPropagation(),e.preventDefault(),t.close()}),$(document).on("click",function(){t.elements.el.hasClass("is-active")&&t.close()}),t.ready()},open:function(t){this.elements.el.trigger("modal:before",[{trigger:t}]),this.options.ajax&&(this.elements.el.addClass("processing"),this.ajaxRequest()),this.overlay&&this.overlay.open(),this.elements.el.addClass("is-active"),this.elements.el.trigger("modal:open")},close:function(){this.elements.el.trigger("modal:close"),this.overlay&&this.overlay.close(),this.elements.el.removeClass("is-active"),this.elements.el.trigger("modal:after")},closeAll:function(){$("[data-modal]").each(function(){$(this).hasClass("is-active")&&$(this).data("modal-api").close()})},ajaxRequest:function(){var t=this;$.ajax({url:t.options.ajax,type:"get",data_type:"json"}).done(function(e){if(t.util.isJson(e))i=JSON.parse(e);else var i=e;t.elements.el.find("[data-modal-content]").html(i.data),$(document).trigger("ajax:done")}).fail(function(e){if(t.util.isJson(e.responseText))JSON.parse(e.responseText);else e.responseText;$(document).trigger("ajax:fail")}).complete(function(e){$(document).trigger("ajax:complete"),t.elements.el.removeClass("processing")})}}),$(function(){SPN.Utils.initPlugin("modal")}),function(t){var e=function(e,n){if(this.element=t(e),this.format=i.parseFormat(n.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=t(i.template).insertAfter(this.element).on({click:t.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on"),this.isInput?this.element.on({focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this)}):this.component?this.component.on("click",t.proxy(this.show,this)):this.element.on("click",t.proxy(this.show,this)),this.minViewMode=n.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=n.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};e.prototype={constructor:e,show:function(e){this.picker.show(),this.isInput;var i=this;t(document).on("mousedown",function(e){0==t(e.target).closest(".datepicker").length&&i.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=i.formatDate(this.date,this.format);this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t))},setValue:function(t){this.date="string"==typeof t?i.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},update:function(t){this.date=i.parseDate("string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+i.dates.daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+i.dates.monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").append(t)},fill:function(){var t=new Date(this.viewDate),e=t.getFullYear(),n=t.getMonth(),s=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates.months[n]+" "+e);var a=new Date(e,n-1,28,0,0,0,0),o=i.getDaysInMonth(a.getFullYear(),a.getMonth());a.setDate(o),a.setDate(o-(a.getDay()-this.weekStart+7)%7);var r=new Date(a);r.setDate(r.getDate()+42),r=r.valueOf();for(var l,c,d,h=[];a.valueOf()<r;)a.getDay()===this.weekStart&&h.push("<tr>"),l=this.onRender(a),c=a.getFullYear(),(d=a.getMonth())<n&&c===e||c<e?l+=" old":(d>n&&c===e||c>e)&&(l+=" new"),a.valueOf()===s&&(l+=" active"),h.push('<td class="day '+l+'">'+a.getDate()+"</td>"),a.getDay()===this.weekEnd&&h.push("</tr>"),a.setDate(a.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(h.join(""));var u=this.date.getFullYear(),p=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");u===e&&p.eq(this.date.getMonth()).addClass("active"),h="",e=10*parseInt(e/10,10);var f=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var m=-1;m<11;m++)h+='<span class="year'+(-1===m||10===m?" old":"")+(u===e?" active":"")+'">'+e+"</span>",e+=1;f.html(h)},click:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("span, td, th");if(1===n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*("prev"===n[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(n.is(".month")){a=n.parent().find("span").index(n);this.viewDate.setMonth(a)}else{o=parseInt(n.text(),10)||0;this.viewDate.setFullYear(o)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(n.is(".day")&&!n.is(".disabled")){var s=parseInt(n.text(),10)||1,a=this.viewDate.getMonth();n.is(".old")?a-=1:n.is(".new")&&(a+=1);var o=this.viewDate.getFullYear();this.date=new Date(o,a,s,0,0,0,0),this.viewDate=new Date(o,a,Math.min(28,s),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}}},mousedown:function(t){t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}},t.fn.datepicker=function(i,n){return this.each(function(){var s=t(this),a=s.data("datepicker"),o="object"==typeof i&&i;a||s.data("datepicker",a=new e(this,t.extend({},t.fn.datepicker.defaults,o))),"string"==typeof i&&a[i](n)})},t.fn.datepicker.defaults={onRender:function(t){return""}},t.fn.datepicker.Constructor=e;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,i.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,n=t.split(e.separator);if((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),n.length===e.parts.length){for(var s=t.getFullYear(),a=t.getDate(),o=t.getMonth(),r=0,l=e.parts.length;r<l;r++)switch(i=parseInt(n[r],10)||1,e.parts[r]){case"dd":case"d":a=i,t.setDate(i);break;case"mm":case"m":o=i-1,t.setMonth(i-1);break;case"yy":s=2e3+i,t.setFullYear(2e3+i);break;case"yyyy":s=i,t.setFullYear(i)}t=new Date(s,o,a,0,0,0)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;for(var t=[],n=0,s=e.parts.length;n<s;n++)t.push(i[e.parts[n]]);return t.join(e.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+'</table></div><span class="arrow"></span></div>'}(window.jQuery),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={dragging:!1}}var a="scrollbar";s.prototype={init:function(){this.prepareElements(),this.makeHandleDraggable()},prepareElements:function(){var t=this.$el.attr("class");scrollbar_container='<div class="scrollbar-container">',(t=t.split("scrollbar"))[1]?(this.$el.removeClass(t[1]),scrollbar_container='<div class="scrollbar-container '+t[1]+'">'):t[0]&&(this.$el.removeClass(t[0]),scrollbar_container='<div class="scrollbar-container '+t[0]+'">'),this.$el.wrapInner(scrollbar_container),this.$el.prepend('<div class="scrollbar-handle"></div>'),this.instance.progress_pos=0,this.instance.parent_height=this.$el.outerHeight(!0),this.instance.handle=this.$el.find(".scrollbar-handle"),this.instance.container=this.$el.find(".scrollbar-container"),this.instance.area_height=this.$el.find(".scrollbar-container").outerHeight(!0),this.instance.scroll_height=this.instance.parent_height/(this.instance.area_height/this.instance.parent_height),this.instance.limit=this.instance.parent_height-this.instance.scroll_height,this.instance.handle.height(this.instance.scroll_height)},makeHandleDraggable:function(){var e,n=this;n.instance.handle.on("mousedown",function(t){e=t.pageY,t.preventDefault(),n.instance.dragging=!0,n.instance.handle.addClass("dragging"),n.instance.progress_pos=n.instance.handle.position().top}),t(i).on("mouseup",function(){n.instance.dragging=!1,n.instance.handle.removeClass("dragging"),n.instance.progress_pos=n.instance.handle.position().top}),t(i).on("mousemove",function(t){if(t.preventDefault(),n.instance.dragging)if(t.pageY>e&&n.instance.progress_pos!==n.instance.limit){i=t.pageY-e;n.instance.progress_pos=n.instance.progress_pos+i,n.instance.progress_pos>=n.instance.limit?(i=n.instance.limit,n.instance.progress_pos=i):i="+="+i+"px",n.instance.handle.css({top:i}),n.scrollContent(n.instance.progress_pos),e=t.pageY}else if(t.pageY<e&&0!==n.instance.progress_pos){var i=e-t.pageY;n.instance.progress_pos=n.instance.progress_pos-i,n.instance.progress_pos<=0?(i=0,n.instance.progress_pos=i):i="-="+i+"px",n.instance.handle.css({top:i}),n.scrollContent(n.instance.progress_pos),e=t.pageY}})},scrollContent:function(t){this.instance.container.css({top:-(t*(this.instance.area_height/this.instance.parent_height)-1)})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t,e,n,s){function a(e){this.el=e,this.$el=t(e),this._name=o,this.instance={el:this.$el,nav_id:this.$el.data("nav-id")||!1,neigbhor:this.$el.data("neighbor")||!1,index:this.$el.data("index")||!1,transition:this.$el.data("transition")||"fade",auto:this.$el.data("auto")||!1,continuous:this.$el.data("continuous")||!1,container:this.$el.find(".projector-box"),slides:{all:this.$el.find(".projector-slide"),active:null,next:null,previous:null,current_width:null,slide_increment:null,active_increment:!1,active_finished:!1,current_increment:0,num:this.$el.find(".projector-slide").length},width:this.$el.width(),height:this.$el.height(),swipeLabel:this.$el.data("swipe-label")||!1}}var o="projector";a.prototype={init:function(){var t=this;this.instance.slides.num>1?this.instance.nav_id&&(this.create.nav(t),this.create.slides(t),this.bindings(),this.prepareSlides()):1===this.instance.slides.num&&t.instance.slides.all.eq(0).addClass("active")},create:{nav:function(e){if(e.instance.nav={container:t("#"+e.instance.nav_id)},e.instance.neighbor){e.instance.nav.container.append('<div class="projector-neighbor"><a href="next" class="nav-next">Next</a><a href="previous" class="nav-previous">Previous</a></div>'),e.instance.nav.next=e.instance.nav.container.find(".nav-next"),e.instance.nav.previous=e.instance.nav.container.find(".nav-previous")}if(e.instance.index){e.instance.nav.container.append('<ul class="projector-index group"></ul>'),e.instance.nav.index=e.instance.nav.container.find(".projector-index"),e.create.index(e)}},index:function(t){var e="";for(i=0;i<t.instance.slides.all.length;i++){if(0===i)n=' class="active"';else var n="";e+='<li class="projector-slide-num link-top"><a href="#" data-slide-id="'+i+'"'+n+">"+(i+1)+"</a></li>",t.instance.slides.all.eq(i).attr("data-slide-id",i).attr("id","slide-"+i)}t.instance.nav.index.append(e)},slides:function(t){for(i=0;i<t.instance.slides.all.length;i++)t.instance.slides.all.eq(i).attr("data-slide-id",i).attr("id","slide-"+i)}},events:{next:function(t){t.instance.nav;if(!t.$el.hasClass("disabled-link")){if(t.isLast(t.instance.slides.active))e=0;else var e=t.instance.slides.active.next().data("slide-id");t.$el.addClass("disabled-link"),t.transitionSlide(e,"next")}},previous:function(){},jump:function(t,e){e.instance.nav;if(!e.$el.hasClass("disabled-link")){var i=t.data("slide-id");e.$el.addClass("disabled-link"),e.transitionSlide(i,"jump")}}},transitionSlide:function(t,e){var i=this;activate=i.instance.slides.all.filter("#slide-"+t),i.instance.nav.index.find("a").removeClass("active"),i.instance.nav.index.find('a[data-slide-id="'+t+'"]').addClass("active"),activate.find("img").css("zIndex",3).fadeIn(1e3,function(){i.$el.removeClass("disabled-link"),i.order.assign(i,activate)})},bindings:function(){var e=this;e.instance.neighbor&&(this.instance.nav.next.on("click",function(t){t.preventDefault(),e.events.next(e)}),this.instance.nav.previous.on("click",function(t){t.preventDefault(),e.events.previous()})),e.instance.index&&this.instance.nav.index.find("a").on("click",function(i){i.preventDefault(),t(this).data("slide-id")!==e.instance.slides.active.data("slide-id")&&e.events.jump(t(this),e)}),t(".tooltip-pad").on("click",function(i){i.preventDefault(),t(".product-slideshow .tooltip").length>0&&t(".product-slideshow .tooltip").remove(),e.events.next(e)})},order:{assign:function(t,e){t.instance.slides.all.filter(".active").removeClass("active").find("img").css({zIndex:"1",display:"none"}),e.addClass("active").find("img").css("zIndex","1"),t.instance.slides.active=e}},prepareSlides:function(){var t=this;switch(t.instance.transition){case"fade":t.instance.slides.all.eq(0).addClass("active"),t.instance.slides.active=t.instance.slides.all.filter(".active")}},isLast:function(t){return null!==t&&parseInt(t.data("slide-id"))===this.instance.slides.num-1},isFirst:function(t){return null!==t&&0===parseInt(t.data("slide-id"))}},t.fn[o]=function(){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new a(this).init())})}}(jQuery,window,document),function(t,e,i,n){function s(e){this.el=e,this.$el=t(e),this._name=a,this.instance={string:this.$el.text(),maxLength:this.$el.data("length")},this.instance.strLength=this.instance.string.length}var a="truncate";s.prototype={init:function(){this.instance.strLength>this.instance.maxLength?(this.prepareString(),this.storeReferences(),this.bindEvents()):this.$el.removeClass("truncate")},prepareString:function(){var t=this,e=this.instance.string.substr(0,this.instance.maxLength);last_space=e.lastIndexOf(" "),truncatedString=this.instance.string.substr(last_space),truncateReadyText="",truncateReadyText=e+'<span class="truncate-delimiter">&hellip;</span><span class="truncate-text"> '+truncatedString+' <a href="#" class="truncate-less">less</a></span>',t.$el.html(truncateReadyText).show()},storeReferences:function(){var t=this;t.instance={more:t.$el.find(".truncate-more"),less:t.$el.find(".truncate-less"),text:t.$el.find(".truncate-text"),delimiter:t.$el.find(".truncate-delimiter")}},bindEvents:function(){var e=this;e.instance.more.on("click",function(i){i.preventDefault(),t(this).fadeOut(0),e.instance.delimiter.fadeOut(0),e.instance.text.fadeIn(0)}),e.instance.less.on("click",function(){event.preventDefault(),e.instance.delimiter.fadeIn(0),e.instance.more.fadeIn(0),e.instance.text.fadeOut(0)})}},t.fn[a]=function(){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this).init())})}}(jQuery,window,document),function(t){function e(e,i,n){var s="rgb"+(t.support.rgba?"a":"")+"("+parseInt(e[0]+n*(i[0]-e[0]),10)+","+parseInt(e[1]+n*(i[1]-e[1]),10)+","+parseInt(e[2]+n*(i[2]-e[2]),10);return t.support.rgba&&(s+=","+(e&&i?parseFloat(e[3]+n*(i[3]-e[3])):1)),s+=")"}function i(t){var e,i;return(e=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(t))?i=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]:(e=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(t))?i=[17*parseInt(e[1],16),17*parseInt(e[2],16),17*parseInt(e[3],16),1]:(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?i=[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),1]:(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(t))&&(i=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]),i}t.extend(!0,t,{support:{rgba:function(){var e=t("script:first"),i=e.css("color"),n=!1;if(/^rgba/.test(i))n=!0;else try{n=i!=e.css("color","rgba(0, 0, 0, 0.5)").css("color"),e.css("color",i)}catch(t){}return n}()}});var n=["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"];t.each(n,function(n,s){t.Tween.propHooks[s]={get:function(e){return t(e.elem).css(s)},set:function(n){var a=n.elem.style,o=i(t(n.elem).css(s)),r=i(n.end);n.run=function(t){a[s]=e(o,r,t)}}}}),t.Tween.propHooks.borderColor={set:function(s){var a=s.elem.style,o=[],r=n.slice(2,6);t.each(r,function(e,n){o[n]=i(t(s.elem).css(n))});var l=i(s.end);s.run=function(i){t.each(r,function(t,n){a[n]=e(o[n],l,i)})}}}}(jQuery),function(t,e,i,n){n.modules.ui={init:function(){this.displayNoticeBar(),this.displayNoticeOverlay()},displayNoticeOverlay:function(){var t=i(".noticeOverlay");if(t.length>0){i("body").append('<div class="overlay-blanket" />'),i(".overlay-blanket").fadeIn(400),t.fadeIn(500)}if(t.hasClass("animate"))setTimeout(function(){t.fadeOut(300),i(".overlay-blanket").fadeOut(400,function(){i(".overlay-blanket").remove()})},5e3);this.setNoticeCloseEvents()},setNoticeCloseEvents:function(){function t(){overlay.is(":visible")&&overlay.fadeOut(0,function(){overlay.removeClass("on")}),i("body").find(".overlay-blanket").length>0&&i(".overlay-blanket").fadeOut(300,function(){i(this).remove()})}overlay=i(".noticeOverlay"),close=i(".noticeOverlay").find(".overlay-close"),overlay.on("click",function(t){t.stopPropagation()}),i("html").click(function(){t()}),close.length&&close.on("click",function(e){e.preventDefault(),e.stopPropagation(),t()})},displayNoticeBar:function(t,e){var n=i(".noticeBar"),s=i("html,header,.fixed-target");if(t&&n.find(".noticeBar-title").html(t),e&&n.find(".noticeBar-title").removeClass("default error success").addClass(e),n.length>0&&(n.css({opacity:"0",display:"block",top:"-50px"}),n.animate({top:"0px",opacity:"1"},300),s.animate({top:"+=50px"},300)),n.hasClass("animate"))setTimeout(function(){n.animate({opacity:"0",display:"block",top:"-50px"},300),s.animate({top:"-=50px"},300)},5e3)},createNoticeBar:function(t,e){i('<div class="noticeBar animate"><span class="'+e+' noticeBar-title"></span></div>').appendTo("body").find(".noticeBar-title").html(t),this.displayNoticeBar(),n.modules.ui.noticeBar=i(".noticeBar").length}}}(window,document,jQuery,SPN),function(t,e,i,n){n.modules.bag={init:function(){this.bindHoverEvents(),this.bindEvents()},updateBagObj:function(t){i("#bag-count").data("count",t).find(".count").text(t)},bindHoverEvents:function(){i(".cart-bar a").wrapInner('<span class="count" />').append('<span class="on"></span>'),i(".cart-bar a").hover(function(){var t=i(this).data("count");i(this).find(".count").hide().end().find(".on").html("Bag &bull; "+t).fadeIn(500)},function(){i(this).find(".on").hide().end().find(".count").fadeIn(300)})},bindEvents:function(){var t=this;i(e).on("submit","#add-to-bag",function(e){e.preventDefault();var n=i(this);n.find('input[type="submit"]').addClass("processing"),t.addItem(n,{id:i('[name="item_id"]').val(),quantity:i('[name="item_quantity"]').val()})}),i(e).on("submit",".cart-item-remove",function(e){e.preventDefault();var n=i(this);n.find('input[type="submit"]').addClass("processing"),t.changeItem(n,{id:n.find('[name="item_id"]').val(),quantity:0})}),i(e).on("submit",".cart-item-add",function(e){e.preventDefault();var n=i(this);n.find('input[type="submit"]').addClass("processing"),t.changeItem(n,{id:n.find('[name="item_id"]').val(),quantity:parseInt(n.find('[name="item_quantity"]').val(),10)+1})})},onAddError:function(t,e){e.find('input[type="submit"]').removeClass("processing")},onAddSuccess:function(t,e){var s=this,a='<ul class="cart-added title-4"><li>'+t.title+' Added to Bag</li><li>&bull;</li><li><a href="/cart">Checkout<a/></li></ul>';setTimeout(function(){e.find('input[type="submit"]').prop("disabled","disabled").val("Item Added"),e.find('input[type="submit"]').removeClass("processing"),n.modules.ui.noticeBar?n.modules.ui.displayNoticeBar(a,"success"):n.modules.ui.createNoticeBar(a,"success"),s.updateBagObj(i("#bag-count").data("count")+1)},500),setTimeout(function(){e.find('input[type="submit"]').prop("disabled","").val("Add to Bag")},6e3)},addItem:function(t,e){var n=this;i.ajax({url:"/cart/add.js",data:e,method:"POST",dataType:"json"}).done(function(e){n.onAddSuccess(e,t)}).fail(function(e){n.onAddError(e,t)}).always(function(){})},empty:function(t){var e=this;i.ajax({url:"/cart/clear.js",method:"POST",dataType:"json"}).done(function(){i('[data-state="catalog.cart"]').addClass("is-hidden")}).fail(function(){}).always(function(){e.updateCartMarkup(t)})},changeItem:function(t,e){var n=this;i.ajax({url:"/cart/change.js",method:"POST",data:e,dataType:"json"}).done(function(t){i.ajax({url:"/cart",method:"GET"}).done(function(e){var s=i(e).find(".cart").html();i(".cart").html(s),i(".autocenter").exists(function(){i(".autocenter").autoCenter()}),n.updateBagObj(t.item_count)})}).fail(function(){}).always(function(){})},udpateItem:function(t,e){var n=this;i.ajax({url:"/cart/update.js",method:"POST",data:e,dataType:"json"}).done(function(t){i.ajax({url:"/cart",method:"GET"}).done(function(e){var s=i(e).find(".cart").html();i(".cart").html(s),i(".autocenter").exists(function(){i(".autocenter").autoCenter()}),n.updateBagObj(t.item_count)})}).fail(function(){}).always(function(){})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.modules.checkout={init:function(){this.setDatePicker(),this.configureTabbing(),this.cleanTextarea(),this.bindCheckoutEvents()},bindCheckoutEvents:function(){i('input[type="submit"]').on("click",function(){i(this).addClass("processing")}),i("#form-billing").on("submit",function(t){t.preventDefault();var e=i(this);n.process.stripe.init(e,function(t){if(t)return!1;e.get(0).submit()})}),i("#same-as").on("click",function(t){t.preventDefault();var e=DB.local.retrieve("customer");e&&i("#form-billing").find("input").each(function(){var t=i(this).data("receive");e.shipping.hasOwnProperty(t)&&i(this).val(e.shipping[t])})})},cleanTextarea:function(){var t=i('textarea[name="attributes[message]"]').val();t=i.trim(t),i('textarea[name="attributes[message]"]').val(t)},configureTabbing:function(){i("input").on("focus",function(){var t=i(this).index("input");i(this).hasClass("static")&&(i(this).blur(),i(this).hasClass("datepicker-init")||i("input:eq("+(t+1)+")").focus())})},setDatePicker:function(){var t=new Date,e=1;parseInt(i(".datepicker-init").data("time"))>=18&&(e=2),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+e,0,0,0,0),i(".datepicker-init").exists(function(){i(".datepicker-init").datepicker({onRender:function(e){return e.valueOf()<t.valueOf()?"disabled":""}})}),""===i(".datepicker-init").val()&&(i(".datepicker-init").datepicker("setValue",t),i(".datepicker-init").val(""))}}}(window,document,jQuery,SPN),function(t,e,i,n){n.modules.scroll={init:function(){var t=this,e=i(".feature-scroll").find("img");t.pageHeight=null,t.slideHeight=null,t.bindHoverEvents(),n.utils.imagesLoaded(e,function(e){e.errors||(t.fillArea(),t.setPageHeight(),i(".feature-scroll").find(".feature-section").addClass("ready").end().removeClass("loading").find(".feature-section").addClass("active").removeClass("ready"),t.triggerPoint())})},bindHoverEvents:function(){i(".first").find("hgroup").hover(function(){i(this).parent(".feature-head").find(".decor").addClass("off")},function(){i(this).parent(".feature-head").find(".decor").removeClass("off")})},triggerPoint:function(){var e=this,n=0;i(t).on("scroll",function(t){i("body").addClass("scrolling"),clearTimeout(i.data(this,"scrollTimer")),i.data(this,"scrollTimer",setTimeout(function(){i("body").removeClass("scrolling")},250));var s=i(this).scrollTop();s>n?s>=e.slideHeight&&i(".feature-section.last").css({position:"relative",top:"0"}):s<=e.slideHeight&&i(".feature-section.last").css({position:"fixed",top:"65px"}),n=s}),i(t).trigger("scroll")},setPageHeight:function(){},fillArea:function(){i(".feature-board").find(".title-3").each(function(){var t=-i(this).height()/2;i(this).css({marginTop:t+"px"}),i(this).parent(".item-desc").addClass("ready")}),i(".feature-head").each(function(){var e={el:i(this).find("img")},s={el:i(this)};e.width=parseInt(e.el.css("width")),e.height=parseInt(e.el.height()),e.ratio=e.width/e.height,i(t).resize(function(){n.utils.cover(e,s,!0)}),i(t).trigger("resize")})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.all={onPageReady:function(){n.modules.ui.init(),n.modules.bag.init(),i(".link-pad").exists(function(){i(".link-pad").linkPad()}),i(".popup").exists(function(){i(".popup").on("click",function(){}).popupWindow({centerBrowser:1})}),i(".tabs").exists(function(){i(".tabs").tabs()}),i(".ui-form").exists(function(){i(".ui-form").customForms()}),i(".truncate").exists(function(){i(".truncate").truncate()}),i(".overlay-init").exists(function(){i(".overlay-init").overlay()}),i(e).height()<=i(t).height()&&i(".newsletter").css("display","block"),i(".oddify").length>0&&i(".oddify").find("li:odd").addClass("odd"),i(".nav-menu-trigger").on("click",function(t){t.preventDefault();var e=i("header");if(e.hasClass("is-active"))return e.removeClass("is-active");e.addClass("is-active")})},onPageLoad:function(){i(".scroll").exists(function(){n.modules.scroll.init()}),i(".autocenter").exists(function(){i(".autocenter").autoCenter()}),i('[data-switch-trigger="newsletter"]').on("click",function(t){i("footer").find("form").is(":visible")&&i("footer").find('input[name="email"]').focus()}),i("footer").find('input[name="email"]').on("blur",function(){i("form").hasClass("processing")||i('[data-switch-trigger="newsletter"]').trigger("click")})},bindNewsletterEvents:function(){var t=this;i("#newsletter-form").on("submit",function(e){e.preventDefault();var n=i(this),s=n.find("[name=EMAIL]").val();n.addClass("processing"),t.validateEmail(s)?(console.log("email valid"),n.find("[name=email]").blur(),t.registerEmail(n)):t.handleError("Please enter a valid email address")})},validateEmail:function(t){return new RegExp('^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(".+\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$').test(t)},registerEmail:function(t){var e=this;i.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),cache:!1,dataType:"jsonp",contentType:"application/json; charset=utf-8"}).then(function(i){"success"!==i.result?e.handleError(i.msg):t.find("[name=email]").val(""),t.removeClass("processing")},function(){e.handleError("Could not connect to the registration server. Please try again later."),t.removeClass("processing")})},handleError:function(t){t.length>50&&(t=t.indexOf("already subscribed")>=0?'You\'ve already subscribed! <a target="_blank" class="text--underline" href="'+i("<p>"+t+"</p>").find("a").prop("href")+'">Update Profile</a></span>':"An error occurred. Please try again in 5 minutes."),i(".newsletter").find(".message").html(t).addClass("is-active")}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.ui={onPageReady:function(){},onPageLoad:function(){}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.services={onPageReady:function(){i("[data-scroll]").on("click",function(t){t.preventDefault();var e=i("#"+i(this).data("scroll")).offset().top-115;i("html, body").animate({scrollTop:e},700)})},onPageLoad:function(){if(location.hash){var e=i(location.hash).offset().top-115;i("html, body").animate({scrollTop:e},0)}i(t).on("resize",function(){var e=i(t).height()-i("header").outerHeight();i(".service").each(function(){var t=i(this).outerHeight(),n=t>e?t:e;i(this).find(".visual").height(n)})}),i(t).trigger("resize")}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.catalog={onPageReady:function(){function e(){var t=i(".cascade li").width();i(".cascade li").height(t)}e(),i(t).on("resize",function(){e()})},onPageLoad:function(){}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.product={onPageReady:function(){this.bindEvents(),this.selectDropDowns(),this.scrollGallery()},onPageLoad:function(){this.stopFixedProduct()},scrollGallery:function(){i("[data-scroll]").on("click",function(t){t.preventDefault();var e=i("#"+i(this).data("scroll")).offset().top-65;i("html, body").animate({scrollTop:e},700)})},selectDropDowns:function(){i(".select-trigger").length>0&&(i("#add-to-bag").find('input[type="submit"]').prop("disabled","disabled").val("Select Size Above"),i(".select-trigger").on("click",function(t){t.stopPropagation(),i(this).parent(".select").find(".select-drop").addClass("active")}),i(".select-drop").on("click","a",function(){var t=i(this).data("value"),e=i(this).data("target"),n=i(this).html();i(this).closest(".select").find(".select-trigger").html(n),i("#"+e).val(t),i("#add-to-bag").find('input[type="submit"]').prop("disabled","").val("Add to Bag")}),i("html,body").on("click",function(t){i(".select-drop").is(":visible")&&i(".select-drop").removeClass("active")}))},bindEvents:function(){var t={"nav-help":"Need Help?","nav-social":"Share"};i(".nav-init").on("click","a",function(e){e.preventDefault();var n=i(this).data("target");"Close"===i(this).text()?(i(this).html(t[n]),i("#"+n).removeClass("active")):(i(this).html("Close"),"nav-social"===n?i('[data-target="nav-help"]').html(t["nav-help"]):i('[data-target="nav-social"]').html(t["nav-social"]),i(".product-nav").find(".active").removeClass("active"),i("#"+n).addClass("active"))})},stopFixedProduct:function(){var e=i(".product-details"),n=i(".product-absolute-clone"),s=i(".product-fixed-clone"),a=0;n.height(e.height()),i(t).on("resize",function(){n.css({bottom:i(".fixed-stop").height()/4+"px"}),absolute_offset=n.offset().top}),i(t).trigger("resize"),i(t).on("scroll",function(){var t=i(this).scrollTop(),n=(e.offset().top,s.offset().top);t>a?n>=absolute_offset&&e.css({position:"absolute",top:absolute_offset-65+"px"}):n<=absolute_offset&&e.css({position:"fixed",top:"30%"}),a=t})}}}(window,document,jQuery,SPN),function(t,e,i,n){var s;n.views.home={onPageReady:function(){s={container:i(".slideshow"),active:i(".slideshow").find(".active"),nav:i(".slideshow-nav")},this.hoverStates(),this.slideShow(),this.bindSlideShowNav()},onPageLoad:function(){},hoverStates:function(){i(".item-1-1.right.top.offset").on("mouseenter",function(){i(".item-1-1.top.right").addClass("is-hover")}),i(".item-1-1.top.right.offset").on("mouseleave",function(){i(".item-1-1.top.right").removeClass("is-hover")}),i(".item-1-1.left.bottom.offset").on("mouseenter",function(){i(".item-1-1.left.bottom").addClass("is-hover")}),i(".item-1-1.left.bottom.offset").on("mouseleave",function(){i(".item-1-1.left.bottom").removeClass("is-hover")})},bindSlideShowNav:function(){var t=this;s.nav.on("click",".disc",function(e){e.preventDefault();var n=parseInt(i(this).attr("data-trigger"));t.nextSlide(n),clearInterval(s.interval),t.setSlideInterval()})},slideShow:function(){var t=this;s.count=s.container.find("li").length;for(var e=0;e<s.count;e++){s.container.find("li").eq(e).attr("data-id",e);var i=0===e?" is-active":"";s.nav.append('<a href="#" class="disc'+i+'" data-trigger="'+e+'"></a>')}t.setSlideInterval()},setSlideInterval:function(){var t=this;s.interval=setInterval(function(){var e=parseInt(s.active.attr("data-id"));e+1>=s.count?t.nextSlide(0):t.nextSlide(e+1)},5e3)},nextSlide:function(t){var e=s.container.find('li[data-id="'+t+'"]');s.container.prepend(e),s.nav.find("a").removeClass("is-active is-top"),s.nav.find('[data-trigger="'+t+'"]').addClass("is-active"),s.active.removeClass("active"),e.addClass("active"),setTimeout(function(){s.container.find("li").removeClass("is-top"),e.addClass("is-top")},1500),s.active=e}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.gallery={onPageReady:function(){var t=this;i(".gallery").find("img");i(".cover").length>0&&t.cover();var e=i(".gallery-featured").find("img");e.hide();var n=e.prop("src");i(".gallery-featured").css({"background-image":"url("+n+")"}),t.galleryZoom(),t.galleryMasonry(),t.galleryScroll()},onPageLoad:function(){},cover:function(){i(this);i(t).resize(function(){i(".cover").height(i(t).height()-i("header").height()),i(".gallery-fixed").height(i(t).height()-i("header").height()),i(".gallery-list").find("li").css({height:i(".gallery-list").height()/3+"px"})}),i(t).trigger("resize")},galleryScroll:function(){var e=0;i(t).on("scroll",function(){var t=i(this).scrollTop();t>e?i("[data-scroll-event]").each(function(){i(this).offset().top-i("header").height()<=t&&"activated"!==i(this).attr("data-status")&&(i("[data-scroll-event]").removeClass("is-active"),i(this).attr("data-status","activated").addClass("is-active"),i(".gallery-fixed").find("img").attr("src",i(this).next("li").find("img").attr("src")))}):i("[data-scroll-event]").each(function(e,n){i(this).offset().top-i("header").height()>t&&"activated"===i(this).attr("data-status")&&0!==e&&(i("[data-scroll-event]").removeClass("is-active"),i(this).attr("data-status","").removeClass("is-active"),i(this).prev("li").attr("data-status","activated").addClass("is-active"),i(".gallery-fixed").find("img").attr("src",i(this).find("img").attr("src")))}),e=t})},galleryMasonry:function(){for(var t=this,e=i(".gallery-list").find("li").length,n=Math.ceil(e/3),s=[],a=0;a<3;a++){var o=0;s[a]=[];for(var r=0;r<n;r++){var l;0===r?(l=20*(n-1),s[a][r]=t.getRandomInt(20,l)):r+1===n?s[a][r]=100-o:(l=100-(o+20*(n-(r+1))),s[a][r]=t.getRandomInt(20,l)),o+=s[a][r]}}if(e%3!=0){var c=t.getRandomInt(0,2);n-e/3>.5?(s[c][1]=s[c][1]+s[c][2],s[c].splice(2,1),s[c][2]=s[c][3]+s[c][4],s[c].splice(4,1)):(s[c][1]=s[c][1]+s[c][2],s[c].splice(2,1))}t.setupImages(s)},setupImages:function(t){var e=[];i.each(t,function(t,n){i.each(n,function(t,i){e.push(i)})}),i(".gallery-list").find("li").each(function(t,n){var s=i(this).find("img").prop("src");i(this).css({height:i(".gallery-list").height()/3+"px","background-image":"url("+s+")",width:e[t]+"%"}).find("img").hide()})},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},galleryZoom:function(){i("#gallery-zoom").on("modal:before",function(t,e){var n,s=e.trigger.find("img"),a='<img class="'+(n=s.height()>s.width()?"is-vert":"is-horz")+'" src="'+s.prop("src")+'">';i(this).find(".content").html(a)})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.checkout={onPageReady:function(){n.modules.checkout.init(),this.bindEvents()},onPageLoad:function(){this.verifyZip(),"review"!==i("body").attr("id")?this.stopFixedSummary():(i("#form-review").css("min-height",i(".checkout-summary").outerHeight()+125+"px"),i(".checkout-summary").css({position:"absolute",top:"30px"}))},bindEvents:function(){i(e).on("shipping:change",function(){i('[data-html="shipping"]').html(n.utils.currency(n.bag.shipping,!0))}),i("#checkout-form").on("submit",function(e){var n=i(this).serialize();e.preventDefault(),i.ajax({url:"/cart/update.js",method:"POST",data:n,dataType:"json"}).done(function(){t.location.href="/checkout"})})},checkForReady:function(){i('[name="attributes[delivery_date]"]').val().length&&i('[name="attributes[postal_code]"]').val().length&&i("#continue").prop("disabled",!1)},verifyZip:function(){var t=this;i('[name="attributes[delivery_date]"]').on("keyup blur",function(){t.checkForReady()}),i('[name="attributes[postal_code]"]').on("keyup blur",function(){var s=i(this).val();s.length>=5?void 0!==n.postal_codes&&(-1!==i.inArray(parseInt(s),n.postal_codes.local)?(n.bag.shipping=1e3,i(e).trigger("shipping:change"),t.checkForReady()):-1!==i.inArray(parseInt(s),n.postal_codes.manhattan)?(n.bag.shipping=2500,i(e).trigger("shipping:change"),t.checkForReady()):-1!==i.inArray(parseInt(s),n.postal_codes.boroughs)?(n.bag.shipping=3500,i(e).trigger("shipping:change"),t.checkForReady()):t.alertOutOfZone()):t.resetZone()})},alertOutOfZone:function(){i(".tooltip").removeClass("is-hidden").addClass("is-active"),i(".checkout-summary").css("opacity",".2"),i("#continue").prop("disabled",!0)},resetZone:function(){n.bag.shipping=0,i(e).trigger("shipping:change"),i(".tooltip").addClass("is-hidden").removeClass("is-active"),i(".checkout-summary").css("opacity","1")},stopFixedSummary:function(){var e=i(".checkout-summary"),n=i(".checkout-absolute-clone"),s=i(".checkout-fixed-clone"),a=0;n.height(e.height()),i(t).on("resize",function(){n.css({bottom:i(".fixed-stop").height()/4+"px"}),absolute_offset=n.offset().top}),i(t).trigger("resize"),i(t).on("scroll",function(){var t=i(this).scrollTop(),n=(e.offset().top,s.offset().top);t>a?n>=absolute_offset&&e.css({position:"absolute",top:absolute_offset-65+"px"}):n<=absolute_offset&&e.css({position:"fixed",top:"30%"}),a=t})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.bag={onPageReady:function(){this.stopFixedSummary()},onPageLoad:function(){},stopFixedSummary:function(){var e=i(".fixed-stop").offset(),n=(i(".cart-summary").offset(),i(".cart-summary").css("top")),s=(i(".cart-summary").outerHeight(),0);i(t).on("scroll",function(){var t=i(".cart-summary").offset(),a=i(this).scrollTop();a>s?e.top+30<=t.top&&i(".cart-summary").css({position:"absolute",top:e.top-30}):a<s&&e.top-30>a+parseInt(n)&&i(".cart-summary").css({position:"fixed",top:n}),s=a})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.static={onPageReady:function(){var t=this;i(".cover").length>0&&t.cover(),i("[data-scroll]").on("click",function(t){var e=i("#"+i(this).data("scroll"));t.preventDefault();var n=e.offset().top-115;i("html, body").animate({scrollTop:n},700,function(){e.addClass("is-active"),setTimeout(function(){e.removeClass("is-active")},3e3)})}),i("[data-ratio]").ratio({ratio:1})},onPageLoad:function(){var t=this;i(".mapIt").exists(function(){i(".mapIt").mapIt()}),i("#delivery-check").length&&t.checkDelivery()},checkDelivery:function(){var t=this,e=i("#delivery-check").find("input"),s=i(".location-price"),a=(i(".location"),i(".price"),{lat:40.723675,long:-73.986912}),o={price:25,title:"Brooklyn/Queens",lat:40.71691,long:-73.890781},r={price:25,title:"Manhattan",lat:40.753331,long:-73.984337},l={price:25,title:"Manhattan",lat:40.73265,long:-73.998242};i("[data-outside-close]").on("click",function(t){t.preventDefault(),i(".no-delivery").addClass("is-hidden").removeClass("is-active"),e.val("").focus()}),i("[data-close]").on("click",function(t){t.preventDefault(),n.prop.map.instance.panTo({lat:a.lat,lng:a.long}),n.prop.map.instance.setZoom(13),s.addClass("is-hidden").removeClass("is-active"),e.removeClass("is-hidden").addClass("is-active").val("").focus()}),i("#delivery-check").on("submit",function(s){s.preventDefault(),void 0!==n.postal_codes&&(-1!==i.inArray(parseInt(e.val()),n.postal_codes.local)?t.changeMap(l,15):-1!==i.inArray(parseInt(e.val()),n.postal_codes.manhattan)?t.changeMap(r,14):-1!==i.inArray(parseInt(e.val()),n.postal_codes.boroughs)?t.changeMap(o,14):i(".no-delivery").addClass("is-active").removeClass("is-hidden"))})},changeMap:function(t,e){var s=i("#delivery-check").find("input"),a=i(".location-price"),o=i(".location"),r=i(".price");n.prop.map.instance.panTo({lat:t.lat,lng:t.long}),n.prop.map.instance.setZoom(e),o.html(t.title),r.html("$"+t.price),a.addClass("is-active").removeClass("is-hidden"),s.removeClass("is-active").addClass("is-hidden")},cover:function(){i(this);i(t).resize(function(){i(".cover").height(i(t).height()-i("header").height())}),i(t).trigger("resize")}}}(window,document,jQuery,SPN),function(t,e,i,n){n.views.error={onPageReady:function(){},onPageLoad:function(){i(".autocenter").exists(function(){i(".autocenter").autoCenter()})}}}(window,document,jQuery,SPN),function(t,e,i,n){n.utils={getWinObj:function(e){var n={width:i(t).width(),height:i(t).height()-e};return n.ratio=n.width/n.height,n.dominant=n.height>n.width?"height":"width",n},currency:function(t,e){return t=parseInt(t),e?"$"+(Math.round(t)/100).toFixed(2):"$"+Math.round(t/100)},imagesLoaded:function(t,e){function n(){++o>70?(clearInterval(r),s({errors:!0,msg:"There were issues loading"})):(t.each(function(t,e){a=i(e).height()>1}),a&&(clearInterval(r),s({errors:!1,msg:"Success"})))}function s(t){e(t)}var a,o=0,r=setInterval(function(){n()},100)},cover:function(t,e,s){if(s){win=n.utils.getWinObj(i("header").height());var a={width:win.width,height:t.ratio*win.width},o={width:win.height*t.ratio,height:win.height};e.el.css({width:win.width,height:win.height}),o.width<win.width||o.height<win.height?t.el.css({width:a.width,height:"auto",left:"0",top:"50%",marginLeft:"0",marginTop:-t.el.height()/2+"px"}):t.el.css({height:o.height,width:"auto",left:"50%",top:"0",marginLeft:-t.el.width()/2+"px",marginTop:"0"})}else e.width=e.el.width(),e.height=e.el.height(),e.ratio=e.width/e.height,e.ratio>=1?(t.el.width(e.width),t.el.css({height:"auto",left:"0",top:"50%",marginLeft:"0",marginTop:-t.el.height()/2+"px"})):e.ratio<1&&(t.el.height(e.height),t.el.css({width:"auto",left:"50%",top:"0",marginLeft:-t.el.width()/2+"px",marginTop:"0"}))},imgLoaded:function(t){var e,n=0;(e=function(){n++,i(t).find("img").eq(0).height()>0||n>=50?i(t).addClass("is-active"):setTimeout(function(){e(t)},100)})()},fadeInOnLoad:function(t,e){e?n.utils.imgLoaded(t):i(t).addClass("is-active")}}}(window,document,jQuery,SPN),function(t,e,i,n){i(e).ready(function(){i("html").addClass("active").removeClass("loading"),i("body").hasClass("error")||n.views.all.onPageReady(),i("body").attr("class")&&(n.ui=i("body").attr("class"),n.ui&&-1!==n.ui.indexOf(" ")&&(n.ui=n.ui.split(" ")),i.isArray(n.ui)?i.each(n.ui,function(t,e){e.match(/delivery|contact|faq|terms|privacy/)&&(e="static"),e.match(/home/)&&(e="home"),n.views[e]&&n.views[e].onPageReady()}):n.views[n.ui]&&n.views[n.ui].onPageReady(),n.current=n.template)}),i(t).load(function(){i(".wf-active").length<=0&&i("html").addClass("wf-active"),i("body").hasClass("error")||n.views.all.onPageLoad(),i("body").attr("class")&&(i.isArray(n.ui)?i.each(n.ui,function(t,e){e.match(/delivery|contact|faq|terms|privacy/)&&(e="static"),e.match(/home/)&&(e="home"),n.views[e]&&n.views[e].onPageLoad()}):n.views[n.ui]&&n.views[n.ui].onPageLoad())})}(window,document,jQuery,SPN);